
        <!DOCTYPE html>
         <html lang="en">
         <head>
	     <meta charset="UTF-8">
         <meta name="keywords" content="vite构建笔记,博客,前端"/>
         <meta name="description" content="vite的一些笔记,项目中经常遇到"/>
         <!--<meta http-equiv="content-security-policy" content="default-src self"/>-->
	     <title>vite构建笔记</title>
        </head>
        <link rel="stylesheet" href="../main.css">
        <body>
        <div class="message_box"></div>
        <div class="content">
           <div id="view">
              <div>
                <div class="bs_content">
                   <h2 id='vite' class='ba852400'>vite</h2><h3 id='全局常量' class='Xh653850'>全局常量</h3><p class="indent">vite的全局常量默认文件名: <span class="highlight">.env</span>，另外全局常量就是根据构建时的mode来决定的文件名格式为: <span class="highlight">.env[mode]</span>,如果不想让env提交至git上可在文件名后加上<span class="highlight">.local</span>后缀,再在<span class="highlight">.gitignore</span>里面忽略掉.<span class="highlight">.local</span>结尾的env</p><p class="indent">且全局常量默认需要以<span class="highlight">VITE_</span>开头,不然在代码中会访问不到，这个前缀也是可以设置的</p><p class="indent">在<span class="highlight">vite.config.ts</span>文件里面配置vite defineConfig可配置<span class="highlight">envDir</span>设置env文件位置,设置<span class="highlight">envPrefix</span>来设置读取全局常量的前缀</p><p class="remind">访问</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div></div><div class="codePre"><code data-key='xmp'><span class="green">设置完成通过<span class="let">import</span><span class="log">.</span><span class="title1">meta</span><span class="log">.</span><span class="title1">env</span><span class="log">.</span><span class="log">(</span>设置的全局常量名<span class="log">)</span></span></code><code data-key='xmp'>  </code><code data-key='xmp'><span class="green">例 <span class="log">.</span>env文件</span></code><code data-key='xmp'>VITE_APP_NAME <span class="let">=</span> <span class="string">"test"</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">获取</span></code><code data-key='xmp'><span class="let">import</span><span class="log">.</span><span class="title1">meta</span><span class="log">.</span><span class="title1">env</span><span class="log">.</span><span class="title1">VITE_APP_NAME</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">还可以通过vite提供的loadEnv方法来获取到</span></code><code data-key='xmp'><span class="green"><span class="title">loadEnv<span class="log">(</span></span>构建时的模式,env的目录,前缀可改这个来加载其它开头的全局常量<span class="log">)</span>;</span></code><code data-key='xmp'><span class="green">process<span class="log">.</span><span class="title1">cwd</span>和__dirname是有区别的,cwd是获取到node运行所在目录的地址,__dirname是指当前文件所在的目录地址</span></code><code data-key='xmp'><span class="green">使用typescript的话需要在env目录下创建一个<span class="log">.</span>env<span class="log">.</span><span class="title1">d</span><span class="log">.</span><span class="title1">ts</span>或者vite<span class="let">-</span>env<span class="log">.</span><span class="title1">d</span><span class="log">.</span><span class="title1">ts</span>,里面就是delcare每个全局常量类型</span></code><code data-key='xmp'>delcare <span class="let">const </span>VITE_APP_NAME: string</code></div></pre><p class="remind">配置</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>defineConfig<span class="log">}</span><span class="let"> from </span><span class="string">"vite"</span></code><code data-key='xmp'><span class="let">const </span><span class="log">{</span>resolve<span class="log">}</span> <span class="let">=</span> <span class="title">require<span class="log">(</span></span><span class="string">"path"</span><span class="log">)</span>;</code><code data-key='xmp'><span class="let">export default</span> <span class="title">defineConfig<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  envPrefix: <span class="string">"XIAOLI_"</span>,</code><code data-key='xmp'>  envDir: <span class="title">resolve<span class="log">(</span></span>__dirname,<span class="string">"./envDir"</span><span class="log">)</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="green">如果这样配置假设运行vite</span></code><code data-key='xmp'><span class="green">系统就会去envDir目录下找到<span class="log">.</span>env或者<span class="log">.</span>env<span class="log">.</span><span class="title1">local</span>和<span class="log">.</span>env<span class="log">.</span><span class="title1">development</span>或者<span class="log">.</span>env<span class="log">.</span><span class="title1">development</span><span class="log">.</span><span class="title1">local</span>去读取全局常量</span></code></div></pre><h3 id='引入多个文件内容' class='fA429512'>引入多个文件内容</h3><p class="indent">vite提供了读取多个文件导出的内容,通过<span class="highlight">import.meta.glob("文件",配置参数)</span>,这个文件可传一个数组或者写成正则格式</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div></div><div class="codePre"><code data-key='xmp'><span class="green">*<span class="log">.</span>ts表示读取所有文件夹下面的ts文件，不会读取当前文件夹下面的文件夹</span></code><code data-key='xmp'><span class="green">**/*<span class="log">.</span>ts表示读取当前文件夹下面的所有的<span class="log">.</span>ts,包括嵌套的ts文件</span></code><code data-key='xmp'><span class="green">通过在最前面输入<span class="let">!</span>表示不读取某种文件</span></code><code data-key='xmp'><span class="green">通过配置参数中的<span class="let">import</span>属性来指定导入</span></code><code data-key='xmp'><span class="green">通过配置参数中的as属性来执行按照什么类型导入</span></code><code data-key='xmp'><span class="green">glob导入默认通过懒加载导入,可以设置eager配置项设置直接导入</span></code></div></pre><h3 id='常用配置' class='dA714039'>常用配置</h3><p class="indent">常用到的配置项有plugins、css、resolve、server</p><p class="remind">使用less的全局变量</p><p class="indent">使用less的全局变量原本以为在main.ts文件中将目标文件引入就好了,没想到用不了,还需要在defineConfig.css中配置</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>defineConfig<span class="log">}</span><span class="let"> from </span><span class="string">"vite"</span>;</code><code data-key='xmp'><span class="let">const </span><span class="log">{</span>resolve<span class="log">}</span> <span class="let">=</span> <span class="title">require<span class="log">(</span></span><span class="string">"path"</span><span class="log">)</span>;</code><code data-key='xmp'><span class="let">export default</span> <span class="title">defineConfig<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  <span class="log">.</span><span class="log">.</span><span class="log">.</span>,</code><code data-key='xmp'>  css: <span class="log">{</span></code><code data-key='xmp'>    preprocessorOptions: <span class="log">{</span></code><code data-key='xmp'>      less: <span class="log">{</span></code><code data-key='xmp'>        javascriptEnabled: <span class="let">true</span>,</code><code data-key='xmp'>        modifyVars: <span class="log">{</span></code><code data-key='xmp'>          hack<span class="colonColor">: </span><span class="typeColor">`true</span>; @<span class="let">import </span><span class="log">(</span>reference<span class="log">)</span> <span class="string">"${path.resolve(__dirname,'src/styles/index.less')}"</span>`</code><code data-key='xmp'>        <span class="log">}</span></code><code data-key='xmp'>      <span class="log">}</span></code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="green">src/styles/index<span class="log">.</span><span class="title1">less</span>文件</span></code><code data-key='xmp'>@namespace: 'projectName'</code><code data-key='xmp'><span class="green">index<span class="log">.</span><span class="title1">vue</span>文件</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>style</span><span class='attrKey'> lang</span><span class='angleBracket'>=</span><span class='attrValue'>"less"</span> scoped<span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  @prefixCls: ~'@<span class="log">{</span>namespace<span class="log">}</span><span class="let">-</span>container';</code><code data-key='xmp'>  <span class="log">.</span>@<span class="log">{</span>prefixCls<span class="log">}</span><span class="log">{</span></code><code data-key='xmp'>     <span class="log">.</span><span class="log">.</span><span class="log">.</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>style</span><span class='angleBracket'>&gt;</span></code></div></pre><p class="remind">resolve.alias别名和extensions省略引入后缀</p><p class="indent">基本上和webpack差不多</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div></div><div class="codePre"><code data-key='xmp'><span class="let">export default</span> <span class="title">defineConfig<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  resolve: <span class="log">{</span></code><code data-key='xmp'>    alias: [</code><code data-key='xmp'>      <span class="log">{</span>find: <span class="string">"\/@\/"</span>,replacement: <span class="title">resolve<span class="log">(</span></span>__dirname,<span class="string">"src/"</span><span class="log">)</span> <span class="let">+</span> <span class="string">"/"</span><span class="log">}</span></code><code data-key='xmp'>    ],</code><code data-key='xmp'>    extensions: [<span class="string">".ts"</span>,<span class="string">".js"</span>,<span class="string">".json"</span>]</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><p class="remind">server服务配置</p><p class="indent">一般就配置一个服务器代理和端口,其它的都差不多</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div></div><div class="codePre"><code data-key='xmp'><span class="let">export default</span> <span class="title">defineConfig<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  server: <span class="log">{</span></code><code data-key='xmp'>    host: string, <span class="green">运行ip</span></code><code data-key='xmp'>    strictPort: boolean, <span class="green">是否严格按照配置端口运行,如果运行端口占用直接退出</span></code><code data-key='xmp'>    port: number, <span class="green">设置程序运行端口</span></code><code data-key='xmp'>    https: boolean, <span class="green">启用 TLS <span class="let">+</span> HTTP/2，不能和proxy同时存在，不然只有TLS，需要证书，@vitejs/plugin<span class="let">-</span>basic<span class="let">-</span>ssl插件能自动创建一个证书 </span></code><code data-key='xmp'>    open: string, <span class="green">设置运行完成后自动打开在浏览，可通过process<span class="log">.</span><span class="title1">env</span><span class="log">.</span><span class="title1">BROWER</span>设置浏览器</span></code><code data-key='xmp'>    proxy: <span class="log">{</span></code><code data-key='xmp'>       <span class="string">"^/cors"</span>: <span class="log">{</span></code><code data-key='xmp'>         target: <span class="string">"目标地址"</span>,</code><code data-key='xmp'>         changeOrigin: <span class="let">true</span>,</code><code data-key='xmp'>         rewrite<span class="colonColor">: </span><span class="typeColor"><span class="log">(</span>path<span class="log">)</span></span><span class="log"> => </span>path<span class="log">.</span><span class="title1">replace</span><span class="log">(</span>/^\/cors/,''<span class="log">)</span>,</code><code data-key='xmp'>         ws: boolean <span class="green">socket时设置</span></code><code data-key='xmp'>       <span class="log">}</span></code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><p class="remind">插件</p><p class="indent">vite的插件主要都集中在plugins属性中,是一个数组,里面存放着所有的插件</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div></div><div class="codePre"><code data-key='xmp'><span class="green">使用tailwindicss时也是需要下载插件然后放在plugins中才能使用</span></code><code data-key='xmp'><span class="let">import </span>WindiCSS<span class="let"> from </span><span class="string">"vite-plugin-windicss"</span>;</code><code data-key='xmp'><span class="let">export default</span> <span class="title">defineConfig<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  plugins: [</code><code data-key='xmp'>    <span class="title">WindiCSS<span class="log">(</span></span><span class="log">)</span></code><code data-key='xmp'>  ]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><p class="remind">mock模拟接口数据</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>viteMockServe<span class="log">}</span><span class="let"> from </span><span class="string">"vite-plugin-mock"</span>;</code><code data-key='xmp'><span class="let">export </span><span class='let'>function</span> <span class="title">configMockPlugin<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>  <span class="let">return</span> <span class="title">viteMockServe<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>    ignore: RegExp<span class="let"> | </span><span class="log">(</span><span class="log">(</span>fileName<span class="colonColor">: </span><span class="typeColor">string<span class="log">)</span></span><span class="log"> => </span>boolean<span class="log">)</span>, <span class="green">自动读取时忽略某种文件</span></code><code data-key='xmp'>    mockPath: string, <span class="green">模拟数据的目录</span></code><code data-key='xmp'>    watchFiles: boolean, <span class="green">监听mockPath文件夹下的文件变化，自动同步</span></code><code data-key='xmp'>    supportTs: boolean, <span class="green">支持ts,默认true,打开后监听不到js文件变化</span></code><code data-key='xmp'>    localEnabled: boolean, <span class="green">生产模式打开</span></code><code data-key='xmp'>    prodEnabled: boolean, <span class="green">设置生产模式是否开启</span></code><code data-key='xmp'>    injectCode: string, <span class="green">插入代码 正常的js或者ts代码</span></code><code data-key='xmp'>    injectFile: string, <span class="green">将代码插入哪个文件里面，默认main<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'>  <span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="log">}</span></code></div></pre><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>createProdMockServer<span class="log">}</span><span class="let"> from </span><span class="string">"vite"</span>;</code><code data-key='xmp'><span class="let">export default</span> <span class='let'>function</span> <span class="title">setupProdMockServer<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>  <span class="let">return</span> <span class="title">createProdMockServer<span class="log">(</span></span>[</code><code data-key='xmp'>    <span class="log">{</span></code><code data-key='xmp'>      url: string, <span class="green">接口地址</span></code><code data-key='xmp'>      method: string, <span class="green">接口支持方法</span></code><code data-key='xmp'>      timeout: number, <span class="green">超时时间</span></code><code data-key='xmp'>      <span class="title">response<span class="log">(</span></span>request<span class="colonColor">: </span><span class="typeColor">requestParams</span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>        <span class="green">响应函数 返回值就是响应值</span></code><code data-key='xmp'>      <span class="log">}</span></code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  ]<span class="log">)</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">interface </span>requestParams<span class="log">{</span></code><code data-key='xmp'>  method: string, <span class="green">请求方法</span></code><code data-key='xmp'>  headers: <span class="log">{</span> authorization?: string <span class="log">}</span>, <span class="green">请求头</span></code><code data-key='xmp'>  query: any, <span class="green">urlencoded带参</span></code><code data-key='xmp'>  body: any <span class="green">json带参</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><div style='height: 14px;'></div>
                </div>
                <div class="rightDraw">
                <div class="menu"><div class="directory">目录</div><ul class="menuCon"><li class="menu_li"><a href="#vite" id="ba852400" class="">vite</a><ul class="menuCon_1"><li class="menu_li0"><a href="#全局常量" id="Xh653850" class="">全局常量</a></li><li class="menu_li1"><a href="#引入多个文件内容" id="fA429512" class="">引入多个文件内容</a></li><li class="menu_li2"><a href="#常用配置" id="dA714039" class="">常用配置</a></li></ul></li></ul></div>
                </div>
              </div>
           </div>
           <svg t="1648304059372" class="icon up" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3132" width="200" height="200"><path d="M832 64 192 64C121.6 64 64 121.6 64 192l0 640c0 70.4 57.6 128 128 128l640 0c70.4 0 128-57.6 128-128L960 192C960 121.6 902.4 64 832 64zM762.24 759.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 560l-202.24 199.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 483.84 531.2 487.04 538.24 493.44l224 220.16C775.04 726.4 775.04 746.24 762.24 759.04zM762.24 503.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 304 311.68 503.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 227.84 531.2 231.04 538.24 237.44l224 220.16C775.04 470.4 775.04 490.24 762.24 503.04z" p-id="3133" fill="#ffffff"></path></svg>
        </div>
        </body>
           <script>let titles = [{"title":"vite","id":"vite","index":2,"class":"ba852400","children":[{"title":"全局常量","id":"全局常量","index":3,"class":"Xh653850"},{"title":"引入多个文件内容","id":"引入多个文件内容","index":3,"class":"fA429512"},{"title":"常用配置","id":"常用配置","index":3,"class":"dA714039"}]}];</script>
           <script src="../index.js" type="text/javascript"></script>
           </html>
            