
        <!DOCTYPE html>
         <html lang="en">
         <head>
	     <meta charset="UTF-8">
         <meta name="keywords" content="angular路由相关,博客,前端"/>
         <meta name="description" content="angular路由笔记"/>
         <!--<meta http-equiv="content-security-policy" content="default-src self"/>-->
	     <title>angular路由相关</title>
        </head>
        <link rel="stylesheet" href="../main.css">
        <body>
        <div class="message_box"></div>
        <div class="content">
           <div id="view">
              <div>
                <div class="bs_content">
                   <h2 id='angular路由' class='fe117271'>angular路由</h2><h3 id='一、使用步骤' class='iN587887'>一、使用步骤</h3><h4 id='1.创建路由配置文件' class='Di173390'>1.创建路由配置文件</h4><span class='bold'>安装:</span><span class="highlight">ng g module 路由模块名字 --routing</span><h4 id='2.定义渲染位置' class='gM812473'>2.定义渲染位置</h4><div><div class='quote'>在相应组件中通过<span class="highlight">router-outlet</span>标签定义路由渲染位置</div></div><h4 id='3.引入路由模块' class='Nd930317'>3.引入路由模块</h4><div><div class='quote'>在创建的<span class="highlight">路由配置文件</span>中引入<span class="highlight">RouterModule</span>,在<span class="highlight">@angular/router</span>模块里</div></div><span class='bold'>代码:</span><span class="highlight">import {RouterModule} from "@angular/router";</span><h4 id='4.定义路由规则' class='gY202531'>4.定义路由规则</h4><span class='bold'>首先:</span>引入相关组件<br><div><div class='quote'>代码: <span class="highlight">import {MyComponent} from "../components/MyComponent";</span></div></div><span class='bold'>定义路由规则:</span><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div></div><div class="codePre"><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"home"</span>,component: MyComponent,children: []<span class="log">}</span>,</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"**"</span>,redirectTo: <span class="string">"/home"</span>,pathMatch: <span class="string">"full"</span><span class="log">}</span><span class="green">//默认路由</span></code><code data-key='xmp'>];</code></div></pre><h4 id='5.引入路由规则' class='hB473859'>5.引入路由规则</h4><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>RouterModule<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"home"</span>,component: MyComponent,children: []<span class="log">}</span>,</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"**"</span>,redirectTo: <span class="string">"/home"</span>,pathMatch: <span class="string">"full"</span><span class="log">}</span><span class="green">//默认路由</span></code><code data-key='xmp'>];</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  <span class="green">//引入路由规则</span></code><code data-key='xmp'><span class="let">  import</span>s: [</code><code data-key='xmp'>    RouterModule<span class="log">.</span><span class="title1">forRoot</span><span class="log">(</span>routes,<span class="log">{</span></code><code data-key='xmp'>      useHash: <span class="let">true</span></code><code data-key='xmp'>    <span class="log">}</span><span class="log">)</span>; </code><code data-key='xmp'>  ]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><h4 id='6.暴露路由模块' class='bM841913'>6.暴露路由模块</h4><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span>RouterModule<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"home"</span>,component: MyComponent,children: []<span class="log">}</span>,</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"**"</span>,redirectTo: <span class="string">"/home"</span>,pathMatch: <span class="string">"full"</span><span class="log">}</span><span class="green">//默认路由</span></code><code data-key='xmp'>];</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'><span class="let">  import</span>s: [</code><code data-key='xmp'>    RouterModule<span class="log">.</span><span class="title1">forRoot</span><span class="log">(</span>routes,<span class="log">{</span></code><code data-key='xmp'>      useHash: <span class="let">true</span></code><code data-key='xmp'>    <span class="log">}</span><span class="log">)</span>; </code><code data-key='xmp'>  ],</code><code data-key='xmp'>  <span class="green">//暴露路由模块</span></code><code data-key='xmp'>  exports: [RouterModule]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><h4 id='7.根目录挂载路由模块' class='fN446901'>7.根目录挂载路由模块</h4><div><div class='quote'>在<span class="highlight">app.module.ts</span>文件中引入路由规则文件,再在imports中引入</div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//引入路由规则文件</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>AppRoutingModule<span class="log">}</span><span class="let"> from </span><span class="string">"./路径"</span>;</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  <span class="green">//引入</span></code><code data-key='xmp'><span class="let">  import</span>s: [AppRoutingModule]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre><h3 id='二、标签式导航' class='Ff523273'>二、标签式导航</h3><h4 id='1.具体使用' class='Fa168771'>1.具体使用</h4><div><div class='quote'>通过<span class="highlight">a标签</span>去跳转相关路由,通过<span class="highlight">routerLink</span>属性来声明跳转的相应路由信息和携带参数</div></div><div><div class='quote'>还可以通过<span class="highlight">routerLinkActive</span>属性去<span class="highlight">指定选中路由</span>时候的<span class="highlight">样式</span>,<span class="highlight">属性值</span>就是<span class="highlight">类名</span></div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//定义路由规则页面</span></code><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span></code><code data-key='xmp'>    path: '',</code><code data-key='xmp'>    children: [</code><code data-key='xmp'>      <span class="log">{</span>path: 'home',component: HomeComponent<span class="log">}</span>,</code><code data-key='xmp'>      <span class="log">{</span>path: 'detail/:id',component: DetailComponent<span class="log">}</span></code><code data-key='xmp'>    ]</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>];</code><code data-key='xmp'><span class="string">"路由渲染html页面"</span></code><code data-key='xmp'><span class="green">//path不是动态的且不用携带参数</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>a</span><span class='attrKey'> routerLink</span><span class='angleBracket'>=</span><span class='attrValue'>"/home"</span><span class='angleBracket'>&gt;</span>Home<span class='angleBracket'>&lt;/</span><span class='elName'>a</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="green">//需要携带动态的参数</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>a</span><span class='attrKey'> [routerLink]</span><span class='angleBracket'>=</span><span class='attrValue'>"['/detail',id]"</span><span class='angleBracket'>&gt;</span><span class="log">{</span><span class="log">{</span>detailName<span class="log">}</span><span class="log">}</span><span class='angleBracket'>&lt;/</span><span class='elName'>a</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>a</span><span class='attrKey'> [routerLink]</span><span class='angleBracket'>=</span><span class='attrValue'>"'/detail/' + id"</span><span class='angleBracket'>&gt;</span><span class="log">{</span><span class="log">{</span>detailName<span class="log">}</span><span class="log">}</span><span class='angleBracket'>&lt;/</span><span class='elName'>a</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>a</span><span class='attrKey'> routerLink</span><span class='angleBracket'>=</span><span class='attrValue'>"/detail/{{id}}"</span><span class='angleBracket'>&gt;</span>详情页<span class='angleBracket'>&lt;/</span><span class='elName'>a</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>router-outlet</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>router-outlet</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="string">"路由渲染ts页面"</span></code><code data-key='xmp'><span class="green">//定义两个参数</span></code><code data-key='xmp'><span class="let">const </span>id<span class="colonColor">: </span><span class="typeColor">String</span> <span class="let">=</span> <span class="string">"123456"</span>;</code><code data-key='xmp'><span class="let">const </span>detailName<span class="colonColor">: </span><span class="typeColor">String</span> <span class="let">=</span> <span class="string">"我在学angular"</span>;</code></div></pre><h4 id='2.获取传递参数' class='GL989943'>2.获取传递参数</h4><div><div class='quote'>首先引入<span class="highlight">ActiveRoute</span>,在<span class="highlight">@angular/router</span>模块里</div></div><div><div class='quote'>其次就在<span class="highlight">constructor</span>定义一个<span class="highlight">ActivatedRoute</span>类型的变量,最后就直接通过<span class="highlight">this</span>使用这个变量身上的属性拿到对应传递过来的参数</div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div style='height: 14px;'></div><div style='height: 14px;'></div><div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>ActivatedRoute<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">export </span>deault<span class="let"> class </span>DetailComponent implements OnInit<span class="log">{</span></code><code data-key='xmp'>  <span class="title"><span class="let">constructor</span><span class="log">(</span></span>private readonly route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRoute</span></span><span class="log">)</span><span class="log">{</span><span class="log">}</span></code><code data-key='xmp'>  sb<span class="colonColor">: </span><span class="typeColor">any</span>;</code><code data-key='xmp'>  <span class="title">ngOnInit<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1">sb</span> <span class="let">=</span> <span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">params</span><span class="log">.</span><span class="title1">subscribe</span><span class="log">(</span>params<span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>      console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>params<span class="log">)</span>;</code><code data-key='xmp'>    <span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">ngOnDestory<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1">sb</span><span class="log">.</span><span class="title1">unsubscribe</span><span class="log">(</span><span class="log">)</span>;<span class="green">//取消订阅</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="green">//通过params方式传参可以通过</span></code><code data-key='xmp'>  <span class="green">//<span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">params</span>[</span><span class="string">"value"</span>]<span class="log">.</span>属性名</code><code data-key='xmp'>  <span class="green">//通过query方式传参可以通过</span></code><code data-key='xmp'>  <span class="green">//<span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">queryParams</span>[</span><span class="string">"value"</span>]<span class="log">.</span>属性名</code><code data-key='xmp'>  <span class="green">//还可以通过 <span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">snapshot</span><span class="log">.</span><span class="title1">paramMap</span><span class="log">.</span><span class="title1">get</span><span class="log">(</span>属性名<span class="log">)</span>或者<span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">snapshot</span><span class="log">.</span><span class="title1">paramMap</span><span class="log">.</span><span class="title1">params</span><span class="log">.</span>属性名</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h4 id='3.传参' class='Xh194078'>3.传参</h4><div><div class='quote'>在<span class="highlight">a标签</span>身上通过<span class="highlight">queryParams属性</span>传参数，属性值是一个<span class="highlight">对象</span></div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>a</span><span class='attrKey'> routerLink</span><span class='angleBracket'>=</span><span class='attrValue'>"/detail2"</span><span class='attrKey'> [queryParams]</span><span class='angleBracket'>=</span><span class='attrValue'>"{id: '2222222'}"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>a</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="green">//如果参数值是动态的就不用单引号包裹</span></code><code data-key='xmp'><span class="green">//获取</span></code><code data-key='xmp'><span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">queryParams</span>['value']<span class="log">.</span>name</code><code data-key='xmp'><span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">queryParams</span><span class="log">.</span><span class="title1">subscribe</span><span class="log">(</span>queryParams<span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>  console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>queryParams<span class="log">)</span>;</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">snapshot</span><span class="log">.</span><span class="title1">queryParamMap</span>['params']<span class="log">.</span>属性名</code><code data-key='xmp'><span class="let">this</span><span class="log">.</span><span class="title1">route</span><span class="log">.</span><span class="title1">snapshot</span><span class="log">.</span><span class="title1">queryParamMap</span><span class="log">.</span><span class="title1">get</span><span class="log">(</span><span class="string">"属性名"</span><span class="log">)</span></code></div></pre><h3 id='三、编程式导航' class='AZ401445'>三、编程式导航</h3><h4 id='1.基本使用' class='AG419392'>1.基本使用</h4><div><div class='quote'>编程式导航都是通过js代码调用<span class="highlight">Router</span>身上的方法所实现的</div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div style='height: 14px;'></div><div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class="green">//引入Router</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Router<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">export </span><span class="let">class </span>DetailComponent implements OnInit<span class="log">{</span></code><code data-key='xmp'>  <span class="title"><span class="let">constructor</span><span class="log">(</span></span>private readonly router<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">Router</span></span><span class="log">)</span><span class="log">{</span><span class="log">}</span></code><code data-key='xmp'>  id<span class="colonColor">: </span><span class="typeColor">String</span> <span class="let">=</span> <span class="string">"abc"</span>;</code><code data-key='xmp'>  <span class="title">ngOnInit<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="title">setTimeout<span class="log">(</span></span><span class="log">(</span><span class="log">)</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigate</span><span class="log">(</span>[<span class="string">"/home"</span>]<span class="log">)</span>;<span class="green">//不带参数</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigateByUrl</span><span class="log">(</span><span class="string">"/home"</span><span class="log">)</span>;<span class="green">//不带参</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigate</span><span class="log">(</span>[<span class="string">"/detail"</span>,id]<span class="log">)</span>;<span class="green">//带动态参数</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigateByUrl</span><span class="log">(</span><span class="string">"/detail/"</span> <span class="let">+</span> id<span class="log">)</span>;<span class="green">//带动态参数</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigate</span><span class="log">(</span>[<span class="string">"/detail"</span>,id],<span class="log">{</span>queryParams: <span class="log">{</span>name: <span class="string">"小李"</span><span class="log">}</span><span class="log">}</span><span class="log">)</span>;<span class="green">//带query参数</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span><span class="title1">router</span><span class="log">.</span><span class="title1">navigate</span><span class="log">(</span>[<span class="string">"/detail"</span>,id],<span class="log">{</span>queryParams: <span class="log">{</span>name: <span class="string">"小李"</span><span class="log">}</span>,replaceUrl<span class="colonColor">: </span><span class="typeColor">true<span class="log">}</span><span class="log">)</span></span>;<span class="green">//覆盖当前地址</span></code><code data-key='xmp'>    <span class="log">}</span>,1000<span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h4 id='2.取参' class='dX405522'>2.取参</h4>取参数和标签式导航是一样的<h4 id='3.回退' class='Cc206725'>3.回退</h4><div><div class='quote'>通过Location里面的back方法回退</div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Location<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/common"</span>;</code><code data-key='xmp'><span class="let">export </span><span class="let">class </span>MyComponent<span class="log">{</span></code><code data-key='xmp'>  <span class="title"><span class="let">constructor</span><span class="log">(</span></span>private readonly location<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">Location</span></span><span class="log">)</span><span class="log">{</span><span class="log">}</span></code><code data-key='xmp'>  <span class="title">back<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1">location</span><span class="log">.</span><span class="title1">back</span><span class="log">(</span><span class="log">)</span>;</code><code data-key='xmp'>    window<span class="log">.</span><span class="title1">location</span><span class="log">.</span><span class="title1">back</span><span class="log">(</span><span class="log">)</span>;<span class="green">//都是一样的</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='四、路由预加载' class='Gh306909'>四、路由预加载</h3><h4 id='1.方案一' class='Ej734183'>1.方案一</h4><div><div class='quote'>这种比较简单粗暴，设置所有的模块</div></div><div><div class='quote'>直接在引入路由规则时设置<span class="highlight">preloadingStragegy</span>属性值为<span class="highlight">PreloadAllModules</span>,表示所有模块都预先加载,这个属性值的默认值时<span class="highlight">NoPreloading</span></div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>RouterModule,PreloadAllModules<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'><span class="let">  import</span>s: [</code><code data-key='xmp'>    RouterModule<span class="log">.</span><span class="title1">forRoot</span><span class="log">(</span>routes,<span class="log">{</span></code><code data-key='xmp'>      useHash: <span class="let">true</span>,</code><code data-key='xmp'>      preloadingStragegy: PreloadAllModules</code><code data-key='xmp'>    <span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'>  ],</code><code data-key='xmp'>  exports: [RouterModule]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span></code></div></pre><h4 id='2.方案二' class='cN093008'>2.方案二</h4><div><div class='quote'>根据代码设置相应的组件或者模块预加载</div></div><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//代码演示</span></code><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span>path: <span class="string">"home"</span>,component: HomeComponent,data: <span class="log">{</span>preload: <span class="let">true</span><span class="log">}</span><span class="log">}</span><span class="green">//首先设置preload,只有preload为true时才会预加载</span></code><code data-key='xmp'>];</code><code data-key='xmp'><span class="green">//新建一个ts文件,代码如下</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Route,PreloadingStragegy<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Observable,of<span class="log">}</span><span class="let"> from </span><span class="string">"rxjs"</span>;</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyPreloadStragegy implements PreloadingStragegy<span class="log">{</span></code><code data-key='xmp'>  <span class="title">preload<span class="log">(</span></span>route<span class="colonColor">: </span><span class="typeColor">Route</span>,fn<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor"><span class="log">(</span></span><span class="log">)</span></span><span class="log"> => </span>Observable<span class='angleBracket'>&lt;</span><span class='elName'>any</span><span class='angleBracket'>&gt;</span><span class="log">)</span> Observable<span class='angleBracket'>&lt;</span><span class='elName'>any</span><span class='angleBracket'>&gt;</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> route<span class="log">.</span><span class="title1">data</span> <span class="let">&</span><span class="let">&</span> route<span class="log">.</span><span class="title1">data</span><span class="log">.</span><span class="title1">preload</span><span class="let"> ? </span><span class="title">fn<span class="log">(</span></span><span class="log">)</span> <span class="colonColor">: </span><span class="typeColor">of<span class="log">(</span><span class='keyword'>null</span></span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="green">//在根模块引入上面那个ts文件中的类然后在providers中注入</span></code><code data-key='xmp'><span class="let">import </span>MyPreloadStragegy<span class="let"> from </span><span class="string">"./my-preload-stragegy"</span>;</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  providers: [MyPreloadStragegy]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="green">//最后再在跟路由中设置preloadingStragegy属性值为MyPreloadStragegy</span></code></div></pre><h3 id='五、路由懒加载' class='Ij874849'>五、路由懒加载</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//创建带路由的模块</span></code><code data-key='xmp'>ng generate module 模块名称 <span class="let">-</span><span class="let">-</span>routing</code><code data-key='xmp'><span class="green">//通过loadChild属性指定加载模块地址和名称</span></code><code data-key='xmp'><span class="let">const </span>routes <span class="let">=</span> [</code><code data-key='xmp'>  <span class="log">{</span>path: 'home',loadChildren: <span class="string">"./pages/home/home.module#HomeModule"</span><span class="log">}</span></code><code data-key='xmp'>];</code></div></pre><h3 id='六、路由导航缓存' class='GN411244'>六、路由导航缓存</h3><div><div class='quote'>angular里面使用缓存要使用<span class="highlight">RouteReuseStrategy</span>，不想vue中直接使用<span class="highlight">keep-alive</span>就可以了</div></div><div><div class='quote'><span class="highlight">RouteReuseStrategy</span>中含有5个方法，分别如下</div></div><p class="detail"><span class="highlight">shouldReuseRoute：</span>这个方法包含两个参数,它们都是<span class="highlight">ActivatedRouteSnapshot类型</span>的，一个是<span class="highlight">future</span>，是将要离开的路由信息,一个是<span class="highlight">cur</span>,它是将要加载的路由信息,如果这个方法返回false才会进行跳转，其余方法将不会再调用。</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div></div><div class="codePre"><code data-key='xmp'>shouldReuseRoute<span class="log">(</span>future<span class="colonColor">: </span><span class="typeColor">ActivatedRouteSnapshot</span>,cur<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>  <span class="green">//默认写法</span></code><code data-key='xmp'>  <span class="let">return</span> future<span class="log">.</span><span class="title1">routeConfig</span> <span class="let">===</span> cur<span class="log">.</span><span class="title1">routeConfig</span>;</code><code data-key='xmp'><span class="log">}</span></code></div></pre><p class="detail"><span class="highlight">shouldDetach:</span>当离开当前路由时执行这个方法,这个方法如果返回<span class="highlight">true</span>就会调用<span class="highlight">store</span>方法</p><p class="detail"><span class="highlight">store:</span>我们会在这个方法里面把<span class="highlight">DetachedRouteHandle</span>方法缓存下来,它有两个参数,一个是离开的路由信息和<span class="highlight">DetachedRouteHandle</span>方法</p><p class="detail"><span class="highlight">shouldAttach: </span>这方法是当加载到这个路由的组件上时就会被调用,有一个参数,就是当前的路由信息,返回一个布尔值,如果返回true,就会调用<span class="highlight">retrieve</span>方法，否则这个组件将会重新创建</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div></div><div class="codePre"><code data-key='xmp'>shouldAttach<span class="log">(</span>route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span> :boolean<span class="log">{</span></code><code data-key='xmp'>  <span class="let">return</span> <span class="let">true</span>;</code><code data-key='xmp'><span class="log">}</span></code></div></pre><p class="detail"><span class="highlight">retrieve: </span>一个参数,当前路由信息，返回<span class="highlight">store</span>缓存下来的<span class="highlight">DetachedRouteHandle</span>函数或者<span class="highlight">null</span></p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div><div class='index'>33.</div><div class='index'>34.</div><div class='index'>35.</div><div class='index'>36.</div><div class='index'>37.</div><div class='index'>38.</div><div class='index'>39.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//案例</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> DetachedRouteHandle,ActivatedRouteSnapshot <span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'><span class="let">class </span>RouteReuseService <span class="let">extends </span>RouteReuseStrategy<span class="log">{</span></code><code data-key='xmp'>  to <span class="let">=</span> "";</code><code data-key='xmp'><span class="let">  from </span><span class="let">=</span> "";</code><code data-key='xmp'>  storedRouteHandles <span class="let">=</span><span class="let"> new </span>Map<span class='angleBracket'>&lt;</span><span class='elName'>String,DetachedRouteHandle</span><span class='angleBracket'>&gt;</span><span class="log">(</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="title">shouldReuseRoute<span class="log">(</span></span>future<span class="colonColor">: </span><span class="typeColor">ActivatedRouteSnapshot</span>,cur<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span> :boolean<span class="log">{</span></code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1"><span class="let">from</span></span> <span class="let">=</span> <span class="let">this</span><span class="log">.</span><span class="title1">getPath</span><span class="log">(</span>future<span class="log">)</span>;</code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1">cur</span> <span class="let">=</span> <span class="let">this</span><span class="log">.</span><span class="title1">getPath</span><span class="log">(</span>cur<span class="log">)</span>;</code><code data-key='xmp'>    <span class="let">return</span> future<span class="log">.</span><span class="title1">routeConfig</span> <span class="let">===</span> cur<span class="log">.</span><span class="title1">routeConfig</span> <span class="let">&</span><span class="let">&</span> JSON<span class="log">.</span><span class="title1">stringify</span><span class="log">(</span>future<span class="log">.</span><span class="title1">params</span><span class="log">)</span> <span class="let">===</span> JSON<span class="log">.</span><span class="title1">stringify</span><span class="log">(</span>cur<span class="log">.</span><span class="title1">params</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">shouldDetach<span class="log">(</span></span>route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="green">//在这里面操作,返回true就缓存,返回false就不缓存</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="let">true</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">store<span class="log">(</span></span>route: ActivatedRouteSnapshot,detachTree :DetachedRouteHandle<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    storedRouteHandles<span class="log">.</span><span class="title1">set</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">getPath</span><span class="log">(</span>route<span class="log">)</span>,detachTree<span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">retrieve<span class="log">(</span></span>route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span> :DetachedRouteHandle<span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="let">this</span><span class="log">.</span><span class="title1">storedRouteHandle</span><span class="log">.</span><span class="title1">get</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">getPath</span><span class="log">(</span>route<span class="log">)</span><span class="log">)</span><span class="let"> || </span><span class='keyword'>null</span><span class="let"> as </span>DetachedRouteHandle;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">shouldAttach<span class="log">(</span></span>route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="let">!</span><span class="let">!</span><span class="let">this</span><span class="log">.</span><span class="title1">storedRouteHandles</span><span class="log">.</span><span class="title1">get</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">getPath</span><span class="log">(</span>route<span class="log">)</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="title">getPath<span class="log">(</span></span>route<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">ActivatedRouteSnapshot</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="title"><span class="let">if</span><span class="log">(</span></span>route<span class="log">.</span><span class="title1">routeConfig</span> <span class="let">&</span><span class="let">&</span> route<span class="log">.</span><span class="title1">routeConfig</span><span class="log">.</span><span class="title1">path</span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>      <span class="let">return</span> route<span class="log">.</span><span class="title1">routeConfig</span><span class="log">.</span><span class="title1">path</span>;</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="let">false</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="green">//在根模块中引入RouteReuseStrategy和RouteReuseService</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>RouteReuseService<span class="log">}</span><span class="let"> from </span><span class="string">"../services/route-reuse"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>RouteReuseStrategy<span class="log">}</span><span class="let"> from </span><span class="string">"@angular/router"</span>;</code><code data-key='xmp'>@NgModule<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  providers: [</code><code data-key='xmp'>    <span class="log">{</span>provide: RouteReuseStrategy,useClass: RouteReuseService<span class="log">}</span></code><code data-key='xmp'>  ]</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code></div></pre>
                </div>
                <div class="rightDraw">
                <div class="menu"><div class="directory">目录</div><ul class="menuCon"><li class="menu_li"><a href="#angular路由" id="fe117271">angular路由</a><ul class="menuCon_1"><li class="menu_li0"><a href="#一、使用步骤" id="iN587887">一、使用步骤</a><ul class="menuCon_2"><li class="menu_li0"><a href="#1.创建路由配置文件" id="Di173390">1.创建路由配置文件</a></li><li class="menu_li1"><a href="#2.定义渲染位置" id="gM812473">2.定义渲染位置</a></li><li class="menu_li2"><a href="#3.引入路由模块" id="Nd930317">3.引入路由模块</a></li><li class="menu_li3"><a href="#4.定义路由规则" id="gY202531">4.定义路由规则</a></li><li class="menu_li4"><a href="#5.引入路由规则" id="hB473859">5.引入路由规则</a></li><li class="menu_li5"><a href="#6.暴露路由模块" id="bM841913">6.暴露路由模块</a></li><li class="menu_li6"><a href="#7.根目录挂载路由模块" id="fN446901">7.根目录挂载路由模块</a></li></ul></li><li class="menu_li1"><a href="#二、标签式导航" id="Ff523273">二、标签式导航</a><ul class="menuCon_3"><li class="menu_li0"><a href="#1.具体使用" id="Fa168771">1.具体使用</a></li><li class="menu_li1"><a href="#2.获取传递参数" id="GL989943">2.获取传递参数</a></li><li class="menu_li2"><a href="#3.传参" id="Xh194078">3.传参</a></li></ul></li><li class="menu_li2"><a href="#三、编程式导航" id="AZ401445">三、编程式导航</a><ul class="menuCon_4"><li class="menu_li0"><a href="#1.基本使用" id="AG419392">1.基本使用</a></li><li class="menu_li1"><a href="#2.取参" id="dX405522">2.取参</a></li><li class="menu_li2"><a href="#3.回退" id="Cc206725">3.回退</a></li></ul></li><li class="menu_li3"><a href="#四、路由预加载" id="Gh306909">四、路由预加载</a><ul class="menuCon_5"><li class="menu_li0"><a href="#1.方案一" id="Ej734183">1.方案一</a></li><li class="menu_li1"><a href="#2.方案二" id="cN093008">2.方案二</a></li></ul></li><li class="menu_li4"><a href="#五、路由懒加载" id="Ij874849">五、路由懒加载</a></li><li class="menu_li5"><a href="#六、路由导航缓存" id="GN411244">六、路由导航缓存</a></li></ul></li></ul></div>
                </div>
              </div>
           </div>
           <svg t="1648304059372" class="icon up" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3132" width="200" height="200"><path d="M832 64 192 64C121.6 64 64 121.6 64 192l0 640c0 70.4 57.6 128 128 128l640 0c70.4 0 128-57.6 128-128L960 192C960 121.6 902.4 64 832 64zM762.24 759.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 560l-202.24 199.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 483.84 531.2 487.04 538.24 493.44l224 220.16C775.04 726.4 775.04 746.24 762.24 759.04zM762.24 503.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 304 311.68 503.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 227.84 531.2 231.04 538.24 237.44l224 220.16C775.04 470.4 775.04 490.24 762.24 503.04z" p-id="3133" fill="#ffffff"></path></svg>
        </div>
        </body>
           <script>let titles = [{"title":"angular路由","id":"angular路由","index":2,"class":"fe117271","children":[{"title":"一、使用步骤","id":"一、使用步骤","index":3,"class":"iN587887","children":[{"title":"1.创建路由配置文件","id":"1.创建路由配置文件","index":4,"class":"Di173390"},{"title":"2.定义渲染位置","id":"2.定义渲染位置","index":4,"class":"gM812473"},{"title":"3.引入路由模块","id":"3.引入路由模块","index":4,"class":"Nd930317"},{"title":"4.定义路由规则","id":"4.定义路由规则","index":4,"class":"gY202531"},{"title":"5.引入路由规则","id":"5.引入路由规则","index":4,"class":"hB473859"},{"title":"6.暴露路由模块","id":"6.暴露路由模块","index":4,"class":"bM841913"},{"title":"7.根目录挂载路由模块","id":"7.根目录挂载路由模块","index":4,"class":"fN446901"}]},{"title":"二、标签式导航","id":"二、标签式导航","index":3,"class":"Ff523273","children":[{"title":"1.具体使用","id":"1.具体使用","index":4,"class":"Fa168771"},{"title":"2.获取传递参数","id":"2.获取传递参数","index":4,"class":"GL989943"},{"title":"3.传参","id":"3.传参","index":4,"class":"Xh194078"}]},{"title":"三、编程式导航","id":"三、编程式导航","index":3,"class":"AZ401445","children":[{"title":"1.基本使用","id":"1.基本使用","index":4,"class":"AG419392"},{"title":"2.取参","id":"2.取参","index":4,"class":"dX405522"},{"title":"3.回退","id":"3.回退","index":4,"class":"Cc206725"}]},{"title":"四、路由预加载","id":"四、路由预加载","index":3,"class":"Gh306909","children":[{"title":"1.方案一","id":"1.方案一","index":4,"class":"Ej734183"},{"title":"2.方案二","id":"2.方案二","index":4,"class":"cN093008"}]},{"title":"五、路由懒加载","id":"五、路由懒加载","index":3,"class":"Ij874849"},{"title":"六、路由导航缓存","id":"六、路由导航缓存","index":3,"class":"GN411244"}]}];</script>
           <script src="../index.js" type="text/javascript"></script>
           </html>
            