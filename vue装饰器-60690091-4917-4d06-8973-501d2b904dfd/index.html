
        <!DOCTYPE html>
         <html lang="en">
         <head>
	     <meta charset="UTF-8">
         <meta name="keywords" content="vue装饰器,博客,前端"/>
         <meta name="description" content="vue2.0左右版本的类式编程,这个感觉vue3以后就不用使用到了,但是为了避免后面遇到项目中使用到了，所以还是学习一下。"/>
         <!--<meta http-equiv="content-security-policy" content="default-src self"/>-->
	     <title>vue装饰器</title>
        </head>
        <link rel="stylesheet" href="../main.css">
        <body>
        <div class="message_box"></div>
        <div class="content">
           <div id="view">
              <div>
                <div class="bs_content">
                   <div style='height: 14px;'></div><h3 id='Component' class='DY229829'>Component</h3><p class="indent"><span class="highlight">@Component</span>使定义的类是一个vue组件,同时里面可以添加一些options,比如的components、directions等</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Vue,Component <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component <span class="green">//声明这是一个vue组件</span></code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  name<span class="colonColor">: </span><span class="typeColor">string</span> <span class="let">=</span> <span class="string">"my-component-name"</span>; <span class="green">//定义变量方法一</span></code><code data-key='xmp'>  <span class="title">data<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="log">{</span></code><code data-key='xmp'>      name1: <span class="string">"my-component-name1"</span> <span class="green">//定义变量二，优先级高</span></code><code data-key='xmp'>    <span class="log">}</span> </code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="green">//定义方法</span></code><code data-key='xmp'>  <span class="title">handler<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="string">"handler"</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Prop' class='Yh009587'>Prop</h3><p class="indent">这个装饰器其实就是组件传值接收的那个props</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//App<span class="log">.</span><span class="title1">vue</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component,Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">import </span>MyComponent<span class="let"> from </span><span class="string">"../.."</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>my-component</span><span class='attrKey'> msg</span><span class='angleBracket'>=</span><span class='attrValue'>"hello my-component"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>my-component</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>@Component<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  component: MyComponent</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span><span class="log">}</span></code><code data-key='xmp'><span class="green">//子组件</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue , Prop <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @Prop<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>   <span class="green">//这里面可以编写一些东西,比如type,default,validator,reuqired</span></code><code data-key='xmp'>   default: "",</code><code data-key='xmp'>   type: String,</code><code data-key='xmp'>   required: <span class="let">true</span></code><code data-key='xmp'>  <span class="log">}</span><span class="log">)</span> msg<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>;</code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Emit' class='eX419813'>Emit</h3><p class="indent">这个装饰器就是$emit函数,用来触发父级的自定义事件</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue, Emit <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @Emit<span class="log">(</span><span class="log">)</span> <span class="green">//如果未传值就触发函数名的事件,会转成横杠式</span></code><code data-key='xmp'>  <span class="green">//比如这个就是触发receive<span class="let">-</span>params自定义事件</span></code><code data-key='xmp'>  <span class="title">receiveParams<span class="log">(</span></span>e<span class="log">)</span><span class="log">{</span> <span class="green">//实参会当成自定义事件执行函数的参数,在return返回值的后面</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="string">"params"</span> <span class="green">//返回值就会被当成参数传递给自定义事件</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="green">//上述触发事件传入的参数为<span class="log">(</span></span><span class="string">"params"</span>,e<span class="log">)</span></code><code data-key='xmp'>  </code><code data-key='xmp'>  <span class="green">//如果需要触发的自定义事件和函数名不相同,就需要在@Emit里面传入想要触发的事件名</span></code><code data-key='xmp'>  @Emit<span class="log">(</span><span class="string">"event-name"</span><span class="log">)</span></code><code data-key='xmp'>  <span class="title">eventFn<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="string">"event-params"</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Computed和Watch' class='ce981941'>Computed和Watch</h3><p class="indent">这两个也是对应原来的computed和watch的语法糖</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue, Watch ,Prop<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  num<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">number</span> <span class="let">=</span> 1</span>;</code><code data-key='xmp'>  <span class="green">//如果是computed里面的方法,就在前面加一个get就好了</span></code><code data-key='xmp'><span class="let">  get </span><span class="title">count<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="string">"获取count"</span><span class="log">)</span>;</code><code data-key='xmp'>    <span class="let">return</span> <span class="let">this</span><span class="log">.</span><span class="title1">num</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  @Prop<span class="log">(</span>[String]<span class="log">)</span>msg<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>;</code><code data-key='xmp'>  @Watch<span class="log">(</span><span class="string">"msg"</span>,<span class="log">{</span></code><code data-key='xmp'>    <span class="green">//配置属性</span></code><code data-key='xmp'>    immediate: <span class="let">true</span>, <span class="green">//是否首次就执行</span></code><code data-key='xmp'>    deep: <span class="let">true</span> <span class="green">//是否深度监听</span></code><code data-key='xmp'>  <span class="log">}</span><span class="log">)</span>handler<span class="log">(</span>newVal,oldVal<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>newVal,oldVal<span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  <span class="green">//生命周期函数</span></code><code data-key='xmp'>  <span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">count</span>,<span class="let">this</span><span class="log">.</span><span class="title1">count</span><span class="log">)</span>;</code><code data-key='xmp'>    <span class="green">//这里连续获取两次count,但是count方法只会执行一次</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Provide和Inject' class='YK620155'>Provide和Inject</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//父组件</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Vue, Component, Provide<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  <span class="green">//如果需要传输的属性名和变量相同,括号里面就不用传属性名</span></code><code data-key='xmp'>  @Provide<span class="log">(</span><span class="log">)</span>bar<span class="colonColor">: </span><span class="typeColor">string</span> <span class="let">=</span> <span class="string">"bar value"</span>;</code><code data-key='xmp'>  <span class="green">//当传输的属性名和变量名不相同</span></code><code data-key='xmp'>  @Provide<span class="log">(</span><span class="string">"foo"</span><span class="log">)</span>a<span class="colonColor">: </span><span class="typeColor">string</span> <span class="let">=</span> <span class="string">"a value"</span>;</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//子组件</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Vue, Component, Inject<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @Inject<span class="log">(</span><span class="log">)</span>bar<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>; <span class="green">//接收和属性一样的变量</span></code><code data-key='xmp'>  @Inject<span class="log">(</span><span class="string">"foo"</span><span class="log">)</span>foo1<span class="colonColor">: </span><span class="typeColor">string</span>; <span class="green">//换个名字</span></code><code data-key='xmp'>  <span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">bar</span>,<span class="let">this</span><span class="log">.</span><span class="title1">foo1</span><span class="log">)</span>; <span class="green">//bar value,a value</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Model' class='Kd721943'>Model</h3><p class="indent">这个用于组件的双向绑定,方便编写</p><span class='bold'> 原来写法 </span><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div><div class='index'>33.</div><div class='index'>34.</div><div class='index'>35.</div><div class='index'>36.</div><div class='index'>37.</div><div class='index'>38.</div><div class='index'>39.</div><div class='index'>40.</div><div class='index'>41.</div><div class='index'>42.</div><div class='index'>43.</div><div class='index'>44.</div><div class='index'>45.</div><div class='index'>46.</div><div class='index'>47.</div><div class='index'>48.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//父组件</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>input-item</span><span class='attrKey'> v-model</span><span class='angleBracket'>=</span><span class='attrValue'>"foo"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>input-item</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span>InputItem<span class="let"> from </span><span class="string">"../components/InputeItem.vue"</span>;</code><code data-key='xmp'><span class="let">export default</span> <span class="log">{</span></code><code data-key='xmp'>  <span class="title">data<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="log">{</span></code><code data-key='xmp'>      foo: ""</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span>,</code><code data-key='xmp'>  components: <span class="log">{</span></code><code data-key='xmp'>    InputItem</code><code data-key='xmp'>  <span class="log">}</span>,</code><code data-key='xmp'>  watch: <span class="log">{</span></code><code data-key='xmp'>    foo: <span class="log">{</span></code><code data-key='xmp'>      deep: <span class="let">true</span>,</code><code data-key='xmp'>      immediate: <span class="let">false</span>,</code><code data-key='xmp'>      handler<span class="colonColor">: </span><span class="typeColor"><span class="log">(</span>newVal<span class="log">)</span></span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>        console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="string">"foo改变,新值为: "</span>,newVal<span class="log">)</span>;</code><code data-key='xmp'>      <span class="log">}</span></code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//子组件InputItem</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>input</span><span class='attrKey'> type</span><span class='angleBracket'>=</span><span class='attrValue'>"text"</span><span class='attrKey'> :value</span><span class='angleBracket'>=</span><span class='attrValue'>"value"</span><span class='attrKey'> @change</span><span class='angleBracket'>=</span><span class='attrValue'>"change"</span>/<span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">export default</span> <span class="log">{</span></code><code data-key='xmp'>  model: <span class="log">{</span></code><code data-key='xmp'>    prop: <span class="string">"value"</span>, <span class="green">//表明v<span class="let">-</span>model传过来的值是放在value变量里面</span></code><code data-key='xmp'>    event: <span class="string">"change"</span><span class="green">//通过change自定义事件去触发</span></code><code data-key='xmp'>  <span class="log">}</span>,</code><code data-key='xmp'>  props: <span class="log">{</span></code><code data-key='xmp'>    <span class="green">//由于上面model,所以接收到的属性名是value</span></code><code data-key='xmp'>    value: <span class="log">{</span></code><code data-key='xmp'>      type: String,</code><code data-key='xmp'>      default: ""</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span>,</code><code data-key='xmp'>  methods: <span class="log">{</span></code><code data-key='xmp'>    <span class="title">change<span class="log">(</span></span>e<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>      <span class="green">//触发model里面event对应的自定义事件名称,再传一个新值过去</span></code><code data-key='xmp'>      <span class="let">this</span><span class="log">.</span>$emit<span class="log">(</span><span class="string">"change"</span>,e<span class="log">.</span><span class="title1">target</span><span class="log">.</span><span class="title1">value</span><span class="log">)</span>;</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><span class='bold'> 类式写法 </span><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//父组件</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>input-item</span><span class='attrKey'> v-model</span><span class='angleBracket'>=</span><span class='attrValue'>"foo"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>input-item</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span>InputItem<span class="let"> from </span><span class="string">"../components/InputItem.vue"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Vue, Component ,Watch<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component<span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  components: <span class="log">{</span></code><code data-key='xmp'>    InputItem</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span></code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  foo<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">string</span> <span class="let">=</span> ""</span>;</code><code data-key='xmp'>  @Watch<span class="log">(</span><span class="string">"foo"</span>,<span class="log">{</span>immediate: <span class="let">false</span>,deep<span class="colonColor">: </span><span class="typeColor">true<span class="log">}</span></span><span class="log">)</span>fooHandler<span class="log">(</span>newVal<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">string</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="string">"foo改变,新值是: "</span>,newVal<span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//子组件</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>input</span><span class='attrKey'> type</span><span class='angleBracket'>=</span><span class='attrValue'>"text"</span><span class='attrKey'> :value</span><span class='angleBracket'>=</span><span class='attrValue'>"value"</span><span class='attrKey'> @change</span><span class='angleBracket'>=</span><span class='attrValue'>"change"</span>/<span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span>Vue, Component, Model<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>InputItem <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @Model<span class="log">(</span>"change<span class="string">",{type: String,default: "</span>"<span class="log">}</span><span class="log">)</span>value<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>;</code><code data-key='xmp'>  @Emit<span class="log">(</span><span class="log">)</span></code><code data-key='xmp'>  <span class="title">change<span class="log">(</span></span>e<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">Event</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="log">(</span>e<span class="log">.</span><span class="title1">target</span><span class="let"> as </span>HTMLInputElement<span class="log">)</span><span class="log">.</span><span class="title1">value</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="green">//还是挺方便的,少写了10多行代码</span></code></div></pre><h3 id='Ref' class='ID884065'>Ref</h3><p class="indent">获取真实dom</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div></div><div class="codePre"><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class='angleBracket'>&lt;</span><span class='elName'>input</span><span class='attrKey'> type</span><span class='angleBracket'>=</span><span class='attrValue'>"text"</span><span class='attrKey'> ref</span><span class='angleBracket'>=</span><span class='attrValue'>"refname"</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>template</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Vue, Component, Ref <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MyComponent <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @Ref<span class="log">(</span><span class="log">)</span>readonly refname<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">HTMLElement</span>;</code><code data-key='xmp'>  @Ref<span class="log">(</span><span class="string">"ref名字和变量不相同"</span><span class="log">)</span>readonly 变量名<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">HTMLElement</span>;</code><code data-key='xmp'>  <span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">refname</span><span class="log">)</span>;<span class="green">//input的真实dom</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='registerHooks' class='EL021898'>registerHooks</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue<span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>Component<span class="log">.</span><span class="title1">registerHooks</span><span class="log">(</span>[<span class="string">"beforeRouterEnter"</span>,<span class="string">"beforeRouterUpdate"</span>,<span class="string">"beforeRouterLeave"</span>]<span class="log">)</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  <span class="title">beforeRouterEnter<span class="log">(</span></span>to,form,next<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="title">next<span class="log">(</span></span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='Mixins' class='eH786300'>Mixins</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//minix</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>script</span><span class='attrKey'> type</span><span class='angleBracket'>=</span><span class='attrValue'>"jsx"</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-deocrator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>MixinTest <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  name<span class="colonColor">: </span><span class="typeColor">string</span> <span class="let">=</span> <span class="string">"mixin test"</span></code><code data-key='xmp'>  <span class="title">render<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="log">(</span><span class='angleBracket'>&lt;</span><span class='elName'>div</span><span class='angleBracket'>&gt;</span>name<span class='angleBracket'>&lt;/</span><span class='elName'>div</span><span class='angleBracket'>&gt;</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>script</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="green">//使用minx</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue, Mixins <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">import </span>MixinTest<span class="let"> from </span><span class="string">"./minix/index"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span><span class="title">Mixins<span class="log">(</span></span>MixinTest<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>  <span class="title">created<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">name</span><span class="log">)</span>; <span class="green">//mixin test</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='vuex-class' class='Xb466633'>vuex-class</h3><p class="indent">主要是介绍类式编程,然后vuex如何使用</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div><div class='index'>33.</div><div class='index'>34.</div><div class='index'>35.</div><div class='index'>36.</div><div class='index'>37.</div><div class='index'>38.</div><div class='index'>39.</div><div class='index'>40.</div><div class='index'>41.</div><div class='index'>42.</div><div class='index'>43.</div><div class='index'>44.</div><div class='index'>45.</div><div class='index'>46.</div><div class='index'>47.</div><div class='index'>48.</div><div class='index'>49.</div><div class='index'>50.</div><div class='index'>51.</div><div class='index'>52.</div><div class='index'>53.</div><div class='index'>54.</div><div class='index'>55.</div><div class='index'>56.</div><div class='index'>57.</div><div class='index'>58.</div><div class='index'>59.</div><div class='index'>60.</div><div class='index'>61.</div><div class='index'>62.</div><div class='index'>63.</div><div class='index'>64.</div><div class='index'>65.</div><div class='index'>66.</div><div class='index'>67.</div><div class='index'>68.</div><div class='index'>69.</div><div class='index'>70.</div><div class='index'>71.</div><div class='index'>72.</div><div class='index'>73.</div><div class='index'>74.</div><div class='index'>75.</div><div class='index'>76.</div><div class='index'>77.</div><div class='index'>78.</div><div class='index'>79.</div><div class='index'>80.</div><div class='index'>81.</div><div class='index'>82.</div><div class='index'>83.</div><div class='index'>84.</div><div class='index'>85.</div></div><div class="codePre"><code data-key='xmp'><span class="let">import </span><span class="log">{</span> ActionTree, MutationTree, GetterTree <span class="log">}</span><span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'><span class="green">//user模块 modules/user<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">export </span><span class="let">interface </span>State<span class="log">{</span></code><code data-key='xmp'>  name: string,</code><code data-key='xmp'>  age: number,</code><code data-key='xmp'>  uid: string,</code><code data-key='xmp'>  deposit: number,</code><code data-key='xmp'>  [propName: string]: any</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>state<span class="colonColor">: </span><span class="typeColor">State</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>    name: "",</code><code data-key='xmp'>    age: 18,</code><code data-key='xmp'>    uid: <span class="string">"007"</span>,</code><code data-key='xmp'>    deposit: 1000</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>mutations: MutationTree<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>    <span class="title">SET_NAME<span class="log">(</span></span>state<span class="colonColor">: </span><span class="typeColor">State</span>,preload<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">number</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>      state<span class="log">.</span><span class="title1">name</span> <span class="let">=</span> preload;</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>getters: GetterTree<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>    <span class="title">doubleDeposit<span class="log">(</span></span>state<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>      <span class="let">return</span> state<span class="log">.</span><span class="title1">deposit</span> * 2;</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>actions: ActionTree<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>  <span class="title">getUserInfo<span class="log">(</span></span><span class="log">{</span>commit<span class="log">}</span>: Store<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span><span class="log">)</span>:<span class="let"> Promise</span><span class='angleBracket'>&lt;</span><span class='elName'>void</span><span class='angleBracket'>&gt;</span><span class="log">{</span></code><code data-key='xmp'>      <span class="let">return</span><span class="let"> new </span><span class="title">Promise<span class="log">(</span></span>resolve<span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>        <span class="title">setTimeout<span class="log">(</span></span><span class="log">(</span><span class="log">)</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>          <span class="title">commit<span class="log">(</span></span><span class="string">"SET_NAME"</span>,<span class="string">"小李同学"</span><span class="log">)</span>;</code><code data-key='xmp'>          <span class="title">resolve<span class="log">(</span></span><span class="log">)</span>;</code><code data-key='xmp'>        <span class="log">}</span>,1000<span class="log">)</span></code><code data-key='xmp'>      <span class="log">}</span><span class="log">)</span></code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">export default</span> <span class="log">{</span></code><code data-key='xmp'>  namespaced: <span class="let">true</span>,</code><code data-key='xmp'>  state,</code><code data-key='xmp'>  mutations,</code><code data-key='xmp'>  getters,</code><code data-key='xmp'>  actions</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//index<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span>user<span class="let"> from </span><span class="string">"./modules/user"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Store, CreateStore <span class="log">}</span><span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'><span class="let">interface </span>State<span class="log">{</span></code><code data-key='xmp'>  [propName: string]<span class="colonColor">: </span><span class="typeColor">any</span>;</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">export default</span><span class="let"> new </span>createStore: Store<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span><span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  modules: <span class="log">{</span></code><code data-key='xmp'>    user</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//使用vuex<span class="let">-</span>class</span></code><code data-key='xmp'><span class="green">//方式一</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> namespace <span class="log">}</span><span class="let"> from </span><span class="string">"vuex-class"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component ,Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">const </span>User <span class="let">=</span> <span class="title">namespace<span class="log">(</span></span><span class="string">"user"</span><span class="log">)</span>; <span class="green">//namespace里面传入相应模块的名称</span></code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @User<span class="log">.</span><span class="title1">Action</span><span class="log">(</span><span class="string">"getUserInfo"</span><span class="log">)</span>getUserInfo<span class="colonColor">: </span><span class="typeColor">any</span>;</code><code data-key='xmp'>  @User<span class="log">.</span><span class="title1">Getter</span><span class="log">(</span><span class="string">"doubleDeposit"</span><span class="log">)</span>doubleDeposit<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">number</span>;</code><code data-key='xmp'>  @User<span class="log">.</span><span class="title1">State</span><span class="log">(</span><span class="string">"name"</span><span class="log">)</span>name<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>;</code><code data-key='xmp'>  @User<span class="log">.</span><span class="title1">Mutation</span><span class="log">(</span><span class="string">"SET_NAME"</span><span class="log">)</span>setName<span class="colonColor">: </span><span class="typeColor">any</span>;</code><code data-key='xmp'>  <span class="let">async </span><span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">await </span><span class="let">this</span><span class="log">.</span><span class="title1">getUserInfo</span><span class="log">(</span><span class="log">)</span>;</code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">name</span>,<span class="let">this</span><span class="log">.</span><span class="title1">doubleDeposit</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//方案二</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Compoent, Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> State, Mutation, Getter, Action <span class="log">}</span><span class="let"> from </span><span class="string">"vuex-class"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  @State<span class="log">(</span>state<span class="log"> => </span>state<span class="log">.</span><span class="title1">user</span><span class="log">.</span><span class="title1">name</span><span class="log">)</span>name<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">string</span>;</code><code data-key='xmp'>  @Getter<span class="log">(</span><span class="string">"user/doubleDeposit"</span><span class="log">)</span>doubleDeposit<span class="colonColor"><span class="let">!</span>: </span><span class="typeColor">number</span>;</code><code data-key='xmp'>  @Action<span class="log">(</span><span class="string">"user/getUserInfo"</span><span class="log">)</span>getUserInfo<span class="colonColor">: </span><span class="typeColor">any</span>;</code><code data-key='xmp'>  <span class="let">async </span><span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">await </span><span class="let">this</span><span class="log">.</span><span class="title1">getUserInfo</span><span class="log">(</span><span class="log">)</span>;</code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span><span class="title1">name</span>,<span class="let">this</span><span class="log">.</span><span class="title1">doubleDeposit</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='vuex4.0 + TypeScript' class='Ie012082'>vuex4.0 + TypeScript</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div><div class='index'>33.</div><div class='index'>34.</div><div class='index'>35.</div><div class='index'>36.</div><div class='index'>37.</div><div class='index'>38.</div><div class='index'>39.</div><div class='index'>40.</div><div class='index'>41.</div><div class='index'>42.</div><div class='index'>43.</div><div class='index'>44.</div><div class='index'>45.</div><div class='index'>46.</div><div class='index'>47.</div><div class='index'>48.</div><div class='index'>49.</div><div class='index'>50.</div><div class='index'>51.</div><div class='index'>52.</div><div class='index'>53.</div><div class='index'>54.</div><div class='index'>55.</div><div class='index'>56.</div><div class='index'>57.</div><div class='index'>58.</div><div class='index'>59.</div><div class='index'>60.</div><div class='index'>61.</div><div class='index'>62.</div><div class='index'>63.</div><div class='index'>64.</div><div class='index'>65.</div><div class='index'>66.</div><div class='index'>67.</div><div class='index'>68.</div><div class='index'>69.</div><div class='index'>70.</div><div class='index'>71.</div><div class='index'>72.</div><div class='index'>73.</div><div class='index'>74.</div><div class='index'>75.</div><div class='index'>76.</div><div class='index'>77.</div><div class='index'>78.</div><div class='index'>79.</div><div class='index'>80.</div><div class='index'>81.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//首先index<span class="log">.</span><span class="title1">ts</span>文件</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> CreateStore, Store, MutationTree, ActionTree, GetterTree, Getter, Mutation ,Action, ActionContext <span class="log">}</span><span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> InjectionKey <span class="log">}</span><span class="let"> from </span><span class="string">"vue"</span>;</code><code data-key='xmp'><span class="let">export </span><span class="let">interface </span>State<span class="log">{</span></code><code data-key='xmp'>  [propName: string]: any</code><code data-key='xmp'>  <span class="green">//这里面可以给每一个state中的状态加上类型</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="green">//typescript模式下不能通过$store去访问到Store实例对象</span></code><code data-key='xmp'><span class="green">//如果需要使用需要进行如下操作</span></code><code data-key='xmp'><span class="let">declare </span>module <span class="string">"@vue/runtime/core"</span><span class="log">{</span></code><code data-key='xmp'> <span class="let"> interface </span>ComponentCustomProperties<span class="log">{</span></code><code data-key='xmp'>    $store: Store<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//创建key</span></code><code data-key='xmp'><span class="let">export </span><span class="let">const </span>key: InjectionKey<span class='angleBracket'>&lt;</span><span class='elName'>Store<State</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="title">Symbol<span class="log">(</span></span><span class="log">)</span>;</code><code data-key='xmp'><span class="green">//初始化</span></code><code data-key='xmp'><span class="let">const </span>state<span class="colonColor">: </span><span class="typeColor">State</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>  count: 1</code><code data-key='xmp'><span class="log">}</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="let">const </span>SET_COUNT: Mutation<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">(</span>state<span class="colonColor">: </span><span class="typeColor">State</span>,preload<span class="colonColor"><span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor"></span><span class="typeColor">number</span></span><span class="log">)</span></span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>  state<span class="log">.</span><span class="title1">count</span> <span class="let">=</span> preload;</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>mutations: MutationTree<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>  SET_COUNT</code><code data-key='xmp'><span class="log">}</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="let">const </span>GET_COUNT: Action<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">(</span>store: ActionContext<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span><span class="log">)</span>:<span class="let"> Promise</span><span class='angleBracket'>&lt;</span><span class='elName'>void</span><span class='angleBracket'>&gt;</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>  <span class="let">return</span><span class="let"> new </span><span class="title">Promise<span class="log">(</span></span>resolve<span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>    <span class="title">setTimeout<span class="log">(</span></span><span class="log">(</span><span class="log">)</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>      store<span class="log">.</span><span class="title1">commit</span><span class="log">(</span><span class="string">"SET_COUNT"</span>,10<span class="log">)</span>;</code><code data-key='xmp'>    <span class="log">}</span>,1000<span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span><span class="log">)</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>actions: ActionTree<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>  GET_COUNT</code><code data-key='xmp'><span class="log">}</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="let">const </span>DOUBLE_COUNT: Getter<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">(</span>state<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">State</span></span><span class="log">)</span><span class="colonColor">: </span><span class="typeColor">number</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>  <span class="let">return</span> state<span class="log">.</span><span class="title1">count</span> * 2;</code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="let">const </span>getters: GetterTree<span class='angleBracket'>&lt;</span><span class='elName'>State,any</span><span class='angleBracket'>&gt;</span> <span class="let">=</span> <span class="log">{</span></code><code data-key='xmp'>  DOUBLE_COUNT</code><code data-key='xmp'><span class="log">}</span>;</code><code data-key='xmp'><span class="let">export default</span><span class="let"> new </span>CreateStore: Store<span class='angleBracket'>&lt;</span><span class='elName'>State</span><span class='angleBracket'>&gt;</span><span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  state,</code><code data-key='xmp'>  getters,</code><code data-key='xmp'>  mutations,</code><code data-key='xmp'>  actions</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//入口文件main<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> CreateApp <span class="log">}</span><span class="let"> from </span><span class="string">"vue"</span>;</code><code data-key='xmp'><span class="let">import </span>store,<span class="log">{</span> key <span class="log">}</span><span class="let"> from </span><span class="string">"./store/index"</span>;</code><code data-key='xmp'><span class="let">import </span>App<span class="let"> from </span><span class="string">"./App.vue"</span>;</code><code data-key='xmp'>CreateApp<span class="log">(</span>App<span class="log">)</span><span class="log">.</span><span class="title1">use</span><span class="log">(</span>store,key<span class="log">)</span><span class="log">.</span>$mount<span class="log">(</span><span class="string">"#app"</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//App<span class="log">.</span><span class="title1">vue</span></span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>script</span><span class='attrKey'> lang</span><span class='angleBracket'>=</span><span class='attrValue'>"ts"</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> userStore <span class="log">}</span><span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> key <span class="log">}</span><span class="let"> from </span><span class="string">"./store/index"</span>;</code><code data-key='xmp'>  <span class="let">export default</span> <span class="log">{</span></code><code data-key='xmp'>    <span class="title">setup<span class="log">(</span></span>context<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'><span class="let">      const </span>store <span class="let">=</span> <span class="title">useStore<span class="log">(</span></span>key<span class="log">)</span>;</code><code data-key='xmp'>      console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>store<span class="log">.</span><span class="title1">state</span><span class="log">)</span>;</code><code data-key='xmp'>    <span class="log">}</span></code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class='angleBracket'>&lt;/</span><span class='elName'>script</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class="green">//或者类式编程</span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> key <span class="log">}</span><span class="let"> from </span><span class="string">"./store/index"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> useStore <span class="log">}</span><span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  store <span class="let">=</span> <span class="title">useStore<span class="log">(</span></span>key<span class="log">)</span>;</code><code data-key='xmp'>  <span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>store<span class="log">.</span><span class="title1">state</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre><h3 id='vuex-module-decorators' class='fj787679'>vuex-module-decorators</h3><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div style='height: 14px;'></div><div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div><div class='index'>4.</div><div class='index'>5.</div><div class='index'>6.</div><div class='index'>7.</div><div class='index'>8.</div><div class='index'>9.</div><div class='index'>10.</div><div class='index'>11.</div><div class='index'>12.</div><div class='index'>13.</div><div class='index'>14.</div><div class='index'>15.</div><div class='index'>16.</div><div class='index'>17.</div><div class='index'>18.</div><div class='index'>19.</div><div class='index'>20.</div><div class='index'>21.</div><div class='index'>22.</div><div class='index'>23.</div><div class='index'>24.</div><div class='index'>25.</div><div class='index'>26.</div><div class='index'>27.</div><div class='index'>28.</div><div class='index'>29.</div><div class='index'>30.</div><div class='index'>31.</div><div class='index'>32.</div><div class='index'>33.</div><div class='index'>34.</div><div class='index'>35.</div><div class='index'>36.</div><div class='index'>37.</div><div class='index'>38.</div><div class='index'>39.</div><div class='index'>40.</div><div class='index'>41.</div><div class='index'>42.</div><div class='index'>43.</div><div class='index'>44.</div><div class='index'>45.</div><div class='index'>46.</div><div class='index'>47.</div><div class='index'>48.</div><div class='index'>49.</div><div class='index'>50.</div><div class='index'>51.</div><div class='index'>52.</div><div class='index'>53.</div><div class='index'>54.</div><div class='index'>55.</div><div class='index'>56.</div><div class='index'>57.</div><div class='index'>58.</div><div class='index'>59.</div><div class='index'>60.</div><div class='index'>61.</div><div class='index'>62.</div><div class='index'>63.</div><div class='index'>64.</div><div class='index'>65.</div><div class='index'>66.</div><div class='index'>67.</div><div class='index'>68.</div><div class='index'>69.</div><div class='index'>70.</div><div class='index'>71.</div><div class='index'>72.</div><div class='index'>73.</div><div class='index'>74.</div><div class='index'>75.</div><div class='index'>76.</div><div class='index'>77.</div><div class='index'>78.</div><div class='index'>79.</div><div class='index'>80.</div><div class='index'>81.</div><div class='index'>82.</div><div class='index'>83.</div><div class='index'>84.</div></div><div class="codePre"><code data-key='xmp'><span class="green">//下载 npm i vuex<span class="let">-</span>module<span class="let">-</span>decorators <span class="let">-</span>D</span></code><code data-key='xmp'><span class="green">///store/modules/user<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> VuexModule, Module <span class="log">}</span><span class="let"> from </span><span class="string">"vuex-module-decorator"</span>;</code><code data-key='xmp'><span class="green">//方式一</span></code><code data-key='xmp'>@Module</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>User <span class="let">extends </span>VuexModule<span class="log">{</span></code><code data-key='xmp'>  name<span class="colonColor">: </span><span class="typeColor">string</span> <span class="let">=</span> <span class="string">"小李同学"</span>;<span class="green">//定义state变量</span></code><code data-key='xmp'>  deposit<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">number</span> <span class="let">=</span> 10000</span>;</code><code data-key='xmp'><span class="let">  get </span><span class="title">doubleDeposit<span class="log">(</span></span><span class="log">)</span><span class="log">{</span> <span class="green">//getters</span></code><code data-key='xmp'>    <span class="let">return</span> <span class="let">this</span><span class="log">.</span><span class="title1">deposit</span> * 2;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'>  </code><code data-key='xmp'>  @Mutation<span class="green">//mutations</span></code><code data-key='xmp'>  <span class="title">SET_DEPOSIT<span class="log">(</span></span>deposit<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">number</span></span><span class="log">)</span>:<span class="log">{</span></code><code data-key='xmp'>    <span class="let">this</span><span class="log">.</span><span class="title1">deposit</span> <span class="let">=</span> deposit;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'>  @Action <span class="green">//actions</span></code><code data-key='xmp'>  <span class="title">GET_DEPOSIT<span class="log">(</span></span>deposit<span class="colonColor"><span class="colonColor">: </span><span class="typeColor"></span><span class="typeColor">number</span></span><span class="log">)</span>:<span class="let"> Promise</span><span class='angleBracket'>&lt;</span><span class='elName'>void</span><span class='angleBracket'>&gt;</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">return</span><span class="let"> new </span><span class="title">Promise<span class="log">(</span></span>resolve<span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>      <span class="title">setTimeout<span class="log">(</span></span><span class="log">(</span><span class="log">)</span><span class="log"> => </span><span class="log">{</span></code><code data-key='xmp'>        <span class="let">this</span><span class="log">.</span><span class="title1">context</span><span class="log">.</span><span class="title1">commit</span><span class="log">(</span><span class="string">"SET_DEPOSIT"</span>,deposit<span class="log">)</span>;</code><code data-key='xmp'>        <span class="title">resolve<span class="log">(</span></span><span class="log">)</span>;</code><code data-key='xmp'>      <span class="log">}</span>,1000<span class="log">)</span>;</code><code data-key='xmp'>    <span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//store/index<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span>user<span class="let"> from </span><span class="string">"./modules/user"</span>;</code><code data-key='xmp'><span class="let">import </span>Vue<span class="let"> from </span><span class="string">"vue"</span>;</code><code data-key='xmp'><span class="let">import </span>Vuex<span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'>Vue<span class="log">.</span><span class="title1">use</span><span class="log">(</span>Vuex<span class="log">)</span>;</code><code data-key='xmp'><span class="let">export default</span><span class="let"> new </span>Vuex<span class="log">.</span><span class="title1">Store</span><span class="log">(</span><span class="log">{</span></code><code data-key='xmp'>  modules: <span class="log">{</span></code><code data-key='xmp'>    user</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//main<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span>Vue<span class="let"> from </span><span class="string">"vue"</span>;</code><code data-key='xmp'><span class="let">import </span>Vue<span class="let"> from </span><span class="string">"./App.vue"</span>;</code><code data-key='xmp'><span class="let">import </span>store form <span class="string">"./store/index"</span>;</code><code data-key='xmp'><span class="let">new </span><span class="title">Vue<span class="log">(</span></span><span class="log">{</span></code><code data-key='xmp'>  store</code><code data-key='xmp'><span class="log">}</span><span class="log">)</span><span class="log">.</span>$mount<span class="log">(</span><span class="string">"#app"</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//App<span class="log">.</span><span class="title1">vue</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component, Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  <span class="let">async </span><span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span>$store<span class="log">.</span><span class="title1">state</span><span class="log">.</span><span class="title1">user</span><span class="log">.</span><span class="title1">name</span><span class="log">)</span>;</code><code data-key='xmp'>    <span class="let">await </span><span class="let">this</span><span class="log">.</span>$store<span class="log">.</span><span class="title1">dispatch</span><span class="log">(</span><span class="string">"GET_DEPOSIT"</span>,10<span class="log">)</span>;</code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span><span class="let">this</span><span class="log">.</span>$store<span class="log">.</span><span class="title1">state</span><span class="log">.</span><span class="title1">user</span><span class="log">.</span><span class="title1">deposit</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//方案二</span></code><code data-key='xmp'><span class="green">///store/module/user<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Module,VuexModule <span class="log">}</span> form <span class="string">"vuex-module-decorators"</span>;</code><code data-key='xmp'><span class="let">import </span>store<span class="let"> from </span><span class="string">"../index"</span>;</code><code data-key='xmp'>@Module<span class="log">(</span><span class="log">{</span>name: <span class="string">"user"</span>,namespaced: <span class="let">true</span>,dynamic: <span class="let">true</span>,store<span class="log">}</span><span class="log">)</span></code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>user <span class="let">extends </span>VuexModule<span class="log">{</span></code><code data-key='xmp'>  <span class="green">//这里面都是一样的</span></code><code data-key='xmp'><span class="log">}</span></code><code data-key='xmp'><span class="green">///store/index<span class="log">.</span><span class="title1">ts</span></span></code><code data-key='xmp'><span class="let">import </span>Vue<span class="let"> from </span><span class="string">"vue"</span>;</code><code data-key='xmp'><span class="let">import </span>Vuex<span class="let"> from </span><span class="string">"vuex"</span>;</code><code data-key='xmp'>Vue<span class="log">.</span><span class="title1">use</span><span class="log">(</span>Vuex<span class="log">)</span>;</code><code data-key='xmp'><span class="let">export default</span><span class="let"> new </span>Vuex<span class="log">.</span><span class="title1">Store</span><span class="log">(</span><span class="log">{</span><span class="log">}</span><span class="log">)</span>;</code><code data-key='xmp'> </code><code data-key='xmp'><span class="green">//使用App<span class="log">.</span><span class="title1">vue</span></span></code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> Component<span class="log">.</span> Vue <span class="log">}</span><span class="let"> from </span><span class="string">"vue-property-decorator"</span>;</code><code data-key='xmp'><span class="let">import </span><span class="log">{</span> getModule <span class="log">}</span> form <span class="string">"vuex-module-decorators"</span>;</code><code data-key='xmp'><span class="let">import </span>User<span class="let"> from </span><span class="string">"./store/module/user"</span>;</code><code data-key='xmp'>cont store <span class="let">=</span> <span class="title">getModule<span class="log">(</span></span>User<span class="log">)</span>;</code><code data-key='xmp'>@Component</code><code data-key='xmp'><span class="let">export default</span><span class="let"> class </span>App <span class="let">extends </span>Vue<span class="log">{</span></code><code data-key='xmp'>  <span class="let">async </span><span class="title">mounted<span class="log">(</span></span><span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>    <span class="let">await </span>store<span class="log">.</span><span class="title1">GET_DEPOSIT</span><span class="log">(</span>10<span class="log">)</span>;</code><code data-key='xmp'>    console<span class="log">.</span><span class="title1">log</span><span class="log">(</span>store<span class="log">.</span><span class="title1">deposit</span><span class="log">)</span>;</code><code data-key='xmp'>  <span class="log">}</span></code><code data-key='xmp'><span class="log">}</span></code></div></pre>
                </div>
                <div class="rightDraw">
                <div class="menu"><div class="directory">目录</div><ul class="menuCon"><li class="menu_li"><a href="#Component" id="DY229829">Component</a></li><li class="menu_li"><a href="#Prop" id="Yh009587">Prop</a></li><li class="menu_li"><a href="#Emit" id="eX419813">Emit</a></li><li class="menu_li"><a href="#Computed和Watch" id="ce981941">Computed和Watch</a></li><li class="menu_li"><a href="#Provide和Inject" id="YK620155">Provide和Inject</a></li><li class="menu_li"><a href="#Model" id="Kd721943">Model</a></li><li class="menu_li"><a href="#Ref" id="ID884065">Ref</a></li><li class="menu_li"><a href="#registerHooks" id="EL021898">registerHooks</a></li><li class="menu_li"><a href="#Mixins" id="eH786300">Mixins</a></li><li class="menu_li"><a href="#vuex-class" id="Xb466633">vuex-class</a></li><li class="menu_li"><a href="#vuex4.0 + TypeScript" id="Ie012082">vuex4.0 + TypeScript</a></li><li class="menu_li"><a href="#vuex-module-decorators" id="fj787679">vuex-module-decorators</a></li></ul></div>
                </div>
              </div>
           </div>
           <svg t="1648304059372" class="icon up" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3132" width="200" height="200"><path d="M832 64 192 64C121.6 64 64 121.6 64 192l0 640c0 70.4 57.6 128 128 128l640 0c70.4 0 128-57.6 128-128L960 192C960 121.6 902.4 64 832 64zM762.24 759.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 560l-202.24 199.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 483.84 531.2 487.04 538.24 493.44l224 220.16C775.04 726.4 775.04 746.24 762.24 759.04zM762.24 503.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 304 311.68 503.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 227.84 531.2 231.04 538.24 237.44l224 220.16C775.04 470.4 775.04 490.24 762.24 503.04z" p-id="3133" fill="#ffffff"></path></svg>
        </div>
        </body>
           <script>let titles = [{"title":"Component","id":"Component","index":3,"class":"DY229829"},{"title":"Prop","id":"Prop","index":3,"class":"Yh009587"},{"title":"Emit","id":"Emit","index":3,"class":"eX419813"},{"title":"Computed和Watch","id":"Computed和Watch","index":3,"class":"ce981941"},{"title":"Provide和Inject","id":"Provide和Inject","index":3,"class":"YK620155"},{"title":"Model","id":"Model","index":3,"class":"Kd721943"},{"title":"Ref","id":"Ref","index":3,"class":"ID884065"},{"title":"registerHooks","id":"registerHooks","index":3,"class":"EL021898"},{"title":"Mixins","id":"Mixins","index":3,"class":"eH786300"},{"title":"vuex-class","id":"vuex-class","index":3,"class":"Xb466633"},{"title":"vuex4.0 + TypeScript","id":"vuex4.0 + TypeScript","index":3,"class":"Ie012082"},{"title":"vuex-module-decorators","id":"vuex-module-decorators","index":3,"class":"fj787679"}];</script>
           <script src="../index.js" type="text/javascript"></script>
           </html>
            