
        <!DOCTYPE html>
         <html lang="en">
         <head>
	     <meta charset="UTF-8">
         <meta name="keywords" content="前端安全,博客,前端"/>
         <meta name="description" content="前端面试安全基本小知识点"/>
         <!--<meta http-equiv="content-security-policy" content="default-src self"/>-->
	     <title>前端安全</title>
        </head>
        <link rel="stylesheet" href="../main.css">
        <body>
        <div class="message_box"></div>
        <div class="content">
           <div id="view">
              <div>
                <div class="bs_content">
                   <h1 id='前端安全' class='dG988734'>前端安全</h1><a href='https://juejin.cn/post/6844903772930441230' title='前端安全' target="_black">前端安全</a><h2 id='一、XSS' class='CZ836615'>一、XSS</h2><h3 id='1.1 简介' class='Cj141077'>1.1 简介</h3><p class="indent"><span class="highlight">XSS</span>是<span class="highlight">Cross-Site-Scripting</span>得缩写,因为取首字母为<span class="highlight">CSS</span>,冲突了,所以叫<span class="highlight">XSS</span>中文叫作<span class="highlight">跨站脚本攻击</span>，通常是指存在安全漏洞的web网站的注册用户浏览器运行非法的HTML标签或者javascript,这种攻击分为两种,如下:</p><div class='ul_li'><span style='margin-right: 10px;'>1.</span>非持久性</div><p class="indent">只会执行一次,不存储在数据库中</p><div class='ul_li'><span style='margin-right: 10px;'>2.</span> 持久性</div><p class="indent">用户每次刷新就会执行,储存在数据库中</p><h3 id='1.2 解决方案' class='cc190673'>1.2 解决方案</h3><h4 id='1.2.1 设置安全策略头' class='Ei279613'>1.2.1 设置安全策略头</h4><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div></div><div class="codePre"><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>meta</span><span class='attrKey'> http-equiv</span><span class='angleBracket'>=</span><span class='attrValue'>"content-security-policy"</span><span class='attrKey'> content</span><span class='angleBracket'>=</span><span class='attrValue'>"default-src self"</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>meta</span><span class='attrKey'> http-equiv</span><span class='angleBracket'>=</span><span class='attrValue'>"content-security-policy"</span><span class='attrKey'> content</span><span class='angleBracket'>=</span><span class='attrValue'>"default-src https:"</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>meta</span><span class='attrKey'> http-equiv</span><span class='angleBracket'>=</span><span class='attrValue'>"content-security-policy"</span><span class='attrKey'> content</span><span class='angleBracket'>=</span><span class='attrValue'>"img-src https:"</span><span class='angleBracket'>&gt;</span></code></div></pre><h4 id='1.2.2 转义字符' class='fH226161'>1.2.2 转义字符</h4><p class="indent">使用<span class="highlight">encodeURIComponent</span>对用户输入的内容进行转义</p><h4 id='1.2.3 插件转义' class='ii172260'>1.2.3 插件转义</h4><p class="indent">使用<span class="highlight">js-xss</span>插件来转义</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div></div><div class="codePre"><code data-key='xmp'><span class="let">const </span>xss <span class="let">=</span> <span class="title">require<span class="log">(</span></span><span class="string">"xss"</span><span class="log">)</span>;</code><code data-key='xmp'><span class="let">let </span>html <span class="let">=</span> <span class="title">xss<span class="log">(</span></span><span class="string">"用户输入的内容"</span><span class="log">)</span>;</code></div></pre><h4 id='1.2.4 sri策略' class='AN408789'>1.2.4 sri策略</h4><p class="indent">script或者css资源能够根据文件内容生成一个签名,而浏览器加载就会校验签名是否一致,如果不一致就说明内容是不一样的而不再加载资源,可以防止cdn被劫持xss攻击,也被称为<span class="highlight">SRI策略</span></p><h5 id='1.2.4.1 生成hash' class='CN993279'>1.2.4.1 生成hash</h5><p class="detail"><span class='bold'> 1. 通过openssl </span></p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div></div><div class="codePre"><code data-key='xmp'>cat 文件地址<span class="let"> | </span>openssl dgst <span class="let">-</span>加密算法类型 <span class="let">-</span>binary<span class="let"> | </span>openssl enc <span class="let">-</span>base64 <span class="let">-</span>A</code></div></pre><p class="detail"><span class='bold'> 2. 通过shasum </span></p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div></div><div class="codePre"><code data-key='xmp'>shasum <span class="let">-</span>b <span class="let">-</span>a 加密算法类型 文件地址<span class="let"> | </span>xxd <span class="let">-</span>r <span class="let">-</span>p<span class="let"> | </span>base64</code></div></pre><p class="detail"><span class='bold'> 3. 线上文件 </span></p><a href='https://www.srihash.org/' title=''线上生成sri'' target="_black">前往生成</a><p class="detail">算法类型支持 sha256、sha384 及 sha512</p><p class="detail"><span class='bold'> 4. 使用 </span></p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div></div><div class="codePre"><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>script</span><span class='attrKey'> integrity</span><span class='angleBracket'>=</span><span class='attrValue'>"算法类型-生成的hash"</span><span class='attrKey'> crossorigin</span><span class='angleBracket'>=</span><span class='attrValue'>"anonymous"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>script</span><span class='angleBracket'>&gt;</span></code><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>link</span><span class='attrKey'> integrity</span><span class='angleBracket'>=</span><span class='attrValue'>"算法类型-生成的hash"</span><span class='attrKey'> crossorigin</span><span class='angleBracket'>=</span><span class='attrValue'>"anonymous"</span>/<span class='angleBracket'>&gt;</span></code></div></pre><h5 id='1.2.4.2 测试' class='Kd575465'>1.2.4.2 测试</h5><p class="detail"><span class='bold'> 1. 生成hash </span></p><img class="uploadImg" data-key="img" src="./imgs/heoovmajdcoaaaaasuvork5cyii426.png"/><p class="detail"><span class='bold'> 2. 引用 </span></p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div></div><div class="codePre"><code data-key='xmp'><span class='angleBracket'>&lt;</span><span class='elName'>script</span><span class='attrKey'> src</span><span class='angleBracket'>=</span><span class='attrValue'>"./index.js"</span><span class='attrKey'> integrity</span><span class='angleBracket'>=</span><span class='attrValue'>"sha384-ko9ou9DUvUoX6W57hi44PVH6eJ3dICWpKyHoda2m9IRMgSiRggHsjI5OpfQ8lTAh"</span><span class='attrKey'> crossorigin</span><span class='angleBracket'>=</span><span class='attrValue'>"anonymous"</span><span class='angleBracket'>&gt;</span><span class='angleBracket'>&lt;/</span><span class='elName'>script</span><span class='angleBracket'>&gt;</span></code></div></pre><p class="detail"><span class='bold'> 3. 运行结果 </span></p><img class="uploadImg" data-key="img" src="./imgs/japxy6vgxetk9caaaaaelftksuqmcc091.png"/><p class="detail"><span class='bold'>4. 修改index.js内容后结果</span></p><img class="uploadImg" data-key="img" src="./imgs/lh7yzxly39rcaaaaaelftksuqmcc163.png"/><p class="detail"><span class='bold'> 5. 指定类型文件遵循sri策略 </span></p><p class="indent">可以根据内容安全策略来配置你的服务器使得指定类型的文件遵守 SRI。通过在 CSP 头部添加 require-sri-for 指令实现的,如下: </p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div></div><div class="codePre"><code data-key='xmp'>Content<span class="let">-</span>Security<span class="let">-</span>Policy<span class="colonColor">: </span><span class="typeColor">require<span class="let">-</span>sri<span class="let">-</span>for script</span>;<span class="green">//脚本必须遵守sri</span></code><code data-key='xmp'>Content<span class="let">-</span>Security<span class="let">-</span>Policy<span class="colonColor">: </span><span class="typeColor">require<span class="let">-</span>sri<span class="let">-</span>for style</span>;<span class="green">//样式必须遵守sri</span></code><code data-key='xmp'>Content<span class="let">-</span>Security<span class="let">-</span>Policy<span class="colonColor">: </span><span class="typeColor">require<span class="let">-</span>sri<span class="let">-</span>for script style</span>;<span class="green">//两者都</span></code></div></pre><span class='bold'> 设置获取cookie为http-only,通过document.cookie就访问不到cookie了 </span><h2 id='二、csrf' class='Yf002416'>二、csrf</h2><h3 id='2.1 简介' class='BG894971'>2.1 简介</h3><p class="indent">csrf又称跨站伪造请求,是在用户已经登录了其它网站,其次用户再访问该网站盗取了用户的登录信息,伪造用户进行其它操作</p><h3 id='2.2 解决方案' class='EG634905'>2.2 解决方案</h3><p class="detail"><span class='bold'> 方案一 </span></p><p class="indent">设置cookie中的samesite属性为strict,禁止跨域携带cookie</p><p class="detail"><span class='bold'> 方案二 </span></p><p class="indent">后端对请求校验referer</p><p class="detail"><span class='bold'> 方案三 </span></p><p class="indent">设置token</p><h2 id='三、点击劫持' class='IF021201'>三、点击劫持</h2><h3 id='3.1 简介' class='Ac609005'>3.1 简介</h3><p class="indent">攻击者利用iframe且将iframe嵌入的页面重要点击按钮和自己网页上的按钮重合,设置iframe的透明度为0,利用视觉效果欺骗用户点击,可能正好用户登录了那个网页,就可以做很多操作了</p><h3 id='3.2 解决方案' class='jg565408'>3.2 解决方案</h3><span class='bold'> 方案一 </span><p class="indent">设置<span class="highlight">x-frame-options</span>属性,属性值具体含义如下:</p><div style='width: 100%;position: relative;display: inline-block;'><table data-key='table'><tr><td>DENY</td><td>不允许任何网页使用iframe嵌入当前网页</td></tr><tr><td>SAMEORIGIN</td><td>只能同源才能使用iframe嵌入</td></tr><tr><td>ALLOW-FORM</td><td>允许任何源</td></tr></table></div><span class='bold'> 方案二 </span><p class="indent">使用js判断全局对象self和top是否相等,如果相等表名是自己网页,如果不是,那top.location = self.location;</p><pre class='code' data-key='pre'>
                        <div class="code_header">
                          <div class="circle">
                           <div class="circle1"></div>
                           <div class="circle2"></div>
                           <div class="circle3"></div>
                          </div>
                          <svg title="复制" t="1649216860822" class="copy_code icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3280" width="24" height="24"><path d="M441.47 537.05h186.18v59.22H441.47zM441.47 671.04h280.56v59.22H441.47z" p-id="3281"></path><path d="M685.92 217.95c-0.62-0.65-1.27-1.25-1.93-1.84l-6.85-7.18h-9.52a29.56 29.56 0 0 0-6.31 0h-59.93l1.81-1.73-86.3-90.62H221.06a60.21 60.21 0 0 0-60.15 60.15V742.1a60.21 60.21 0 0 0 60.15 60.15h100.11v32.2a60.21 60.21 0 0 0 60.15 60.15h440.82a60.21 60.21 0 0 0 60.15-60.15V424L746.8 282z m93.95 184.69l-92.81-4.54a0.85 0.85 0 0 1-0.6-0.93l4.25-88.22 12.61 13.22zM221.06 743a1 1 0 0 1-0.93-0.93V176.73a1 1 0 0 1 0.93-0.93h270.45l31.55 33.13H381.32a60.21 60.21 0 0 0-60.15 60.15V743z m601.09 92.35H381.32a1 1 0 0 1-0.93-0.93V269.08a1 1 0 0 1 0.93-0.93h252.07l-6.08 126.27v0.12c-1.46 33.12 24.17 61.25 57 62.71L823.07 464v370.45a1 1 0 0 1-0.93 0.93z" p-id="3282"></path></svg>
                        </div>
                        <div class='indexPre'><div class='index'>1.</div><div class='index'>2.</div><div class='index'>3.</div></div><div class="codePre"><code data-key='xmp'><span class="let">if</span><span class="log">(</span>top <span class="let">!</span><span class="let">==</span> self<span class="log">)</span><span class="log">{</span></code><code data-key='xmp'>  top<span class="log">.</span><span class="title1">location</span> <span class="let">=</span> self<span class="log">.</span><span class="title1">location</span>;</code><code data-key='xmp'><span class="log">}</span></code></div></pre>
                </div>
                <div class="rightDraw">
                <div class="menu"><div class="directory">目录</div><ul class="menuCon"><li class="menu_li"><a href="#前端安全" id="dG988734" class="">前端安全</a><ul class="menuCon_1"><li class="menu_li0"><a href="#一、XSS" id="CZ836615">一、XSS</a><ul class="menuCon_2"><li class="menu_li0"><a href="#1.1 简介" id="Cj141077" class="">1.1 简介</a></li><li class="menu_li1"><a href="#1.2 解决方案" id="cc190673" class="">1.2 解决方案</a><ul class="menuCon_3"><li class="menu_li0"><a href="#1.2.1 设置安全策略头" id="Ei279613" class="">1.2.1 设置安全策略头</a></li><li class="menu_li1"><a href="#1.2.2 转义字符" id="fH226161" class="">1.2.2 转义字符</a></li><li class="menu_li2"><a href="#1.2.3 插件转义" id="ii172260" class="">1.2.3 插件转义</a></li><li class="menu_li3"><a href="#1.2.4 sri策略" id="AN408789" class="">1.2.4 sri策略</a><ul class="menuCon_4"><li class="menu_li0"><a href="#1.2.4.1 生成hash" id="CN993279" class="">1.2.4.1 生成hash</a></li><li class="menu_li1"><a href="#1.2.4.2 测试" id="Kd575465" class="">1.2.4.2 测试</a></li></ul></li></ul></li></ul></li><li class="menu_li1"><a href="#二、csrf" id="Yf002416">二、csrf</a><ul class="menuCon_3"><li class="menu_li0"><a href="#2.1 简介" id="BG894971" class="">2.1 简介</a></li><li class="menu_li1"><a href="#2.2 解决方案" id="EG634905" class="">2.2 解决方案</a></li></ul></li><li class="menu_li2"><a href="#三、点击劫持" id="IF021201">三、点击劫持</a><ul class="menuCon_4"><li class="menu_li0"><a href="#3.1 简介" id="Ac609005">3.1 简介</a></li><li class="menu_li1"><a href="#3.2 解决方案" id="jg565408" class="">3.2 解决方案</a></li></ul></li></ul></li></ul></div>
                </div>
              </div>
           </div>
           <svg t="1648304059372" class="icon up" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3132" width="200" height="200"><path d="M832 64 192 64C121.6 64 64 121.6 64 192l0 640c0 70.4 57.6 128 128 128l640 0c70.4 0 128-57.6 128-128L960 192C960 121.6 902.4 64 832 64zM762.24 759.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 560l-202.24 199.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 483.84 531.2 487.04 538.24 493.44l224 220.16C775.04 726.4 775.04 746.24 762.24 759.04zM762.24 503.04c-12.8 12.8-33.28 12.8-45.44 0L513.92 304 311.68 503.04c-12.8 12.8-33.28 12.8-45.44 0-12.8-12.8-12.8-32.64 0-45.44l224-220.16c6.4-6.4 15.36-9.6 24.32-8.96C522.88 227.84 531.2 231.04 538.24 237.44l224 220.16C775.04 470.4 775.04 490.24 762.24 503.04z" p-id="3133" fill="#ffffff"></path></svg>
        </div>
        </body>
           <script>let titles = [{"title":"前端安全","id":"前端安全","index":1,"class":"dG988734","children":[{"title":"一、XSS","id":"一、XSS","index":2,"class":"CZ836615","children":[{"title":"1.1 简介","id":"1.1 简介","index":3,"class":"Cj141077"},{"title":"1.2 解决方案","id":"1.2 解决方案","index":3,"class":"cc190673","children":[{"title":"1.2.1 设置安全策略头","id":"1.2.1 设置安全策略头","index":4,"class":"Ei279613"},{"title":"1.2.2 转义字符","id":"1.2.2 转义字符","index":4,"class":"fH226161"},{"title":"1.2.3 插件转义","id":"1.2.3 插件转义","index":4,"class":"ii172260"},{"title":"1.2.4 sri策略","id":"1.2.4 sri策略","index":4,"class":"AN408789","children":[{"title":"1.2.4.1 生成hash","id":"1.2.4.1 生成hash","index":5,"class":"CN993279"},{"title":"1.2.4.2 测试","id":"1.2.4.2 测试","index":5,"class":"Kd575465"}]}]}]},{"title":"二、csrf","id":"二、csrf","index":2,"class":"Yf002416","children":[{"title":"2.1 简介","id":"2.1 简介","index":3,"class":"BG894971"},{"title":"2.2 解决方案","id":"2.2 解决方案","index":3,"class":"EG634905"}]},{"title":"三、点击劫持","id":"三、点击劫持","index":2,"class":"IF021201","children":[{"title":"3.1 简介","id":"3.1 简介","index":3,"class":"Ac609005"},{"title":"3.2 解决方案","id":"3.2 解决方案","index":3,"class":"jg565408"}]}]}];</script>
           <script src="../index.js" type="text/javascript"></script>
           </html>
            